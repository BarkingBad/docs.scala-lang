<!DOCTYPE html>

<html>

  <head>
    <title>
      Массивы | 
      Collections | 
      Scala Documentation
    </title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:site_name" content="Scala Documentation"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://0.0.0.0:4000/ru/overviews/collections-2.13/arrays.html"/>
    <meta property="og:image" content="http://0.0.0.0:4000/resources/img/scala-spiral-3d-2-toned-down.png"/>
    <meta property="og:title" content="Массивы"/>
    

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@scala_lang"/>
    <meta name="twitter:creator" content="@scala_lang"/>
    <meta name="twitter:title" content="Массивы"/>
    

    <link rel="icon" type="image/png" href="//resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="//resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="//resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="//resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="//resources/favicon-16x16.png">
    <link rel="manifest" href="//resources/site.webmanifest">
    <link rel="mask-icon" href="//resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="//resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="//resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="//resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="//resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="//resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>





<div class="navigation-fade-screen"></div>



<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="//resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="//" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>



<header id="doc-header">

  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      
      <div class="navigation-bdand">
      <a href="//ru">
        <img src="//resources/img/documentation-logo@2x.png" alt="docs">
      </a>
      <span class="doc-language-version">
        — Scala  2 
      </span>
      </div>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="api" >API</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="https://www.scala-lang.org/api/current/">Current</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="//api/all.html">All Versions</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="//getting-started/index.html">Getting Started</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/ru/tour/tour-of-scala.html">Tour of Scala</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="//overviews/scala-book/introduction.html">Scala Book</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="//tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="//learn.html">Online Resources</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="reference" >Reference</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="/ru/overviews/index.html">Guides & Overviews</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="//books.html">Books</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="//tutorials/FAQ/index.html">Scala FAQ</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="http://scala-lang.org/files/archive/spec/2.13/">Language Spec</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="//style/index.html" id="style guide" >Style Guide</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/ru/cheatsheets/index.html" id="cheatsheet" >Cheatsheet</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="//glossary/index.html" id="glossary" >Glossary</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="//sips/index.html" id="sips" >SIPs</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="api" style="display: none;">
            
              <li>
                <a href="https://www.scala-lang.org/api/current/">Current</a>
              </li>
            
              <li>
                <a href="//api/all.html">All Versions</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="//getting-started/index.html">Getting Started</a>
              </li>
            
              <li>
                <a href="//tour/tour-of-scala.html">Tour of Scala</a>
              </li>
            
              <li>
                <a href="//overviews/scala-book/introduction.html">Scala Book</a>
              </li>
            
              <li>
                <a href="//tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
              </li>
            
              <li>
                <a href="//learn.html">Online Resources</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="reference" style="display: none;">
            
              <li>
                <a href="//overviews/index.html">Guides & Overviews</a>
              </li>
            
              <li>
                <a href="//books.html">Books</a>
              </li>
            
              <li>
                <a href="//tutorials/FAQ/index.html">Scala FAQ</a>
              </li>
            
              <li>
                <a href="http://scala-lang.org/files/archive/spec/2.13/">Language Spec</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="//style/index.html">Style Guide</a></li>
          
        
          
            <li><a href="//cheatsheets/index.html">Cheatsheet</a></li>
          
        
          
            <li><a href="//glossary/index.html">Glossary</a></li>
          
        
          
            <li><a href="//sips/index.html">SIPs</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">
  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        

        <div class="titles">
          
            <div class="supertitle">Collections</div>
          
          <h1>Массивы</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<p><a href="https://www.scala-lang.org/api/2.13.6/scala/Array.html">Массивы</a> особый вид коллекций в Scala. 
С одной стороны, Scala массивы соответствуют массивам из Java. Например, Scala массив <code class="language-plaintext highlighter-rouge">Array[Int]</code>  реализован в виде Java <code class="language-plaintext highlighter-rouge">int[]</code>, а <code class="language-plaintext highlighter-rouge">Array[Double]</code> как Java <code class="language-plaintext highlighter-rouge">double[]</code> и <code class="language-plaintext highlighter-rouge">Array[String]</code> как Java <code class="language-plaintext highlighter-rouge">String[]</code>
 С другой стороны, Scala массивы дают намного больше чем их Java аналоги. Во-первых Scala массивы могут быть обобщены (<em>generic</em>). То есть вы можете описать массив как <code class="language-plaintext highlighter-rouge">Array[T]</code>, где <code class="language-plaintext highlighter-rouge">T</code> дополнительный <code class="language-plaintext highlighter-rouge">параметр-тип</code> массива или же абстрактный тип. 
 Во-вторых, Scala массивы совместимы со списками (<code class="language-plaintext highlighter-rouge">Seq</code>) Scala - вы можете передавать <code class="language-plaintext highlighter-rouge">Array[T]</code> на вход туда, где требуется <code class="language-plaintext highlighter-rouge">Seq[T]</code>. Ну и наконец, Scala массивы также поддерживают все операции, которые есть у списков. Вот пример:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val a1 = Array(1, 2, 3)
a1: Array[Int] = Array(1, 2, 3)
scala&gt; val a2 = a1 map (_ * 3)
a2: Array[Int] = Array(3, 6, 9)
scala&gt; val a3 = a2 filter (_ % 2 != 0)
a3: Array[Int] = Array(3, 9)
scala&gt; a3.reverse
res0: Array[Int] = Array(9, 3)
</code></pre></div></div>

<p>Учитывая то что Scala массивы соответствуют массивам из Java, каким же образом реализованы остальные дополнительные возможности массивов в Scala? 
Реализация массивов в Scala постоянно использует неявные преобразования. В Scala массив не пытается <em>притворяться</em> последовательностью. Он и не может, потому что тип данных лежащий в основе массива не является подтипом <code class="language-plaintext highlighter-rouge">Seq</code>. Вместо этого, используя “упаковывание”, происходит неявное преобразование между массивами и экземплярами класса <code class="language-plaintext highlighter-rouge">scala.collection.mutable.ArraySeq</code>, который является подклассом <code class="language-plaintext highlighter-rouge">Seq</code>. Вот как это работает:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val seq: collection.Seq[Int] = a1
seq: scala.collection.Seq[Int] = ArraySeq(1, 2, 3)
scala&gt; val a4: Array[Int] = seq.toArray
a4: Array[Int] = Array(1, 2, 3)
scala&gt; a1 eq a4
res1: Boolean = false
</code></pre></div></div>

<p>Пример выше показывает, что массивы совместимы с последовательностями, потому как происходит неявное преобразование из массивов в <code class="language-plaintext highlighter-rouge">ArraySeq</code>ы. Чтобы перейти обратно от <code class="language-plaintext highlighter-rouge">ArraySeq</code> к <code class="language-plaintext highlighter-rouge">Array</code>, можно использовать метод <code class="language-plaintext highlighter-rouge">toArray</code>, описанный в <code class="language-plaintext highlighter-rouge">Iterable</code>. Последняя строка в консоле показывает, что упаковка и затем распаковка с помощью <code class="language-plaintext highlighter-rouge">toArray</code> создает копию исходного массива.</p>

<p>Существует еще одно неявное преобразование, которое применяется к массивам. Такое преобразование просто “добавляет” все методы последовательностей (<code class="language-plaintext highlighter-rouge">Seq</code>) к массивам, но не превращает сам массив в последовательность. “Добавление” означает, что массив обернут в другой объект типа <code class="language-plaintext highlighter-rouge">ArrayOps</code>, который поддерживает все методы последовательности. Объект <code class="language-plaintext highlighter-rouge">ArrayOps</code> недолговечный, обычно он недоступен после обращения к методу последовательности и он может быть удален. Современные виртуальные машины могут избегать создания такого промежуточного объекта.</p>

<p>Разница между двумя неявными преобразованиями на массивах показана в следующем примере:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val seq: collection.Seq[Int] = a1
seq: scala.collection.Seq[Int] = ArraySeq(1, 2, 3)
scala&gt; seq.reverse
res2: scala.collection.Seq[Int] = ArraySeq(3, 2, 1)
scala&gt; val ops: collection.ArrayOps[Int] = a1
ops: scala.collection.ArrayOps[Int] = scala.collection.ArrayOps@2d7df55
scala&gt; ops.reverse
res3: Array[Int] = Array(3, 2, 1)
</code></pre></div></div>

<p>Вы видите, что вызов <code class="language-plaintext highlighter-rouge">reverse</code> на <code class="language-plaintext highlighter-rouge">seq</code>, который является <code class="language-plaintext highlighter-rouge">ArraySeq</code>, даст снова <code class="language-plaintext highlighter-rouge">ArraySeq</code>. Это логично, потому что массивы - это <code class="language-plaintext highlighter-rouge">Seqs</code>, и вызов <code class="language-plaintext highlighter-rouge">reverse</code> на любом <code class="language-plaintext highlighter-rouge">Seq</code> даст снова <code class="language-plaintext highlighter-rouge">Seq</code>. С другой стороны, вызов <code class="language-plaintext highlighter-rouge">reverse</code> на экземпляре класса <code class="language-plaintext highlighter-rouge">ArrayOps</code> даст значение <code class="language-plaintext highlighter-rouge">Array</code>, а не <code class="language-plaintext highlighter-rouge">Seq</code>.</p>

<p>Пример <code class="language-plaintext highlighter-rouge">ArrayOps</code>, приведенный выше искусственный и используется лишь, чтоб показать разницу с <code class="language-plaintext highlighter-rouge">ArraySeq</code>. Обычно, вы никогда не создаете экземпляры класса <code class="language-plaintext highlighter-rouge">ArrayOps</code>. Вы просто вызываете методы <code class="language-plaintext highlighter-rouge">Seq</code> на массиве:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; a1.reverse
res4: Array[Int] = Array(3, 2, 1)
</code></pre></div></div>

<p>Объект <code class="language-plaintext highlighter-rouge">ArrayOps</code> автоматически вставляется через неявное преобразование. Так что строка выше эквивалентна</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; intArrayOps(a1).reverse
res5: Array[Int] = Array(3, 2, 1)
</code></pre></div></div>

<p>где <code class="language-plaintext highlighter-rouge">intArrayOps</code> - неявное преобразование, которое было вставлено ранее. В связи с этим возникает вопрос, как компилятор выбрал <code class="language-plaintext highlighter-rouge">intArrayOps</code> вместо другого неявного преобразования в <code class="language-plaintext highlighter-rouge">ArraySeq</code> в строке выше. В конце концов, оба преобразования преобразуют массив в тип, поддерживающий метод reverse. Ответ на этот вопрос заключается в том, что два неявных преобразования имеют приоритет. Преобразование <code class="language-plaintext highlighter-rouge">ArrayOps</code> имеет больший приоритет, чем преобразование <code class="language-plaintext highlighter-rouge">ArraySeq</code>. Первый определяется в объекте <code class="language-plaintext highlighter-rouge">Predef</code>, а второй - в классе <code class="language-plaintext highlighter-rouge">scala.LowPriorityImplicits</code>, который <code class="language-plaintext highlighter-rouge">Predef</code> наследует. Неявные преобразования в дочерних классах и дочерних объектах имеют более высокий приоритет над преобразованиями в базовых классах. Таким образом, если оба преобразования применимы, выбирается вариант в <code class="language-plaintext highlighter-rouge">Predef</code>. Очень похожая схема используется для строк.</p>

<p>Итак, теперь вы знаете, как массивы могут быть совместимы с последовательностями и как они могут поддерживать все операции последовательностей. А как же обобщения? В Java нельзя написать <code class="language-plaintext highlighter-rouge">T[]</code>, где <code class="language-plaintext highlighter-rouge">T</code> является параметром типа. Как же представлен Scala <code class="language-plaintext highlighter-rouge">Array[T]</code>? На самом деле обобщенный массив типа <code class="language-plaintext highlighter-rouge">Array[T]</code> может быть любым из восьми примитивных типов массивов Java <code class="language-plaintext highlighter-rouge">byte[]</code>, <code class="language-plaintext highlighter-rouge">short[]</code>, <code class="language-plaintext highlighter-rouge">char[]</code>, <code class="language-plaintext highlighter-rouge">int[] </code>, <code class="language-plaintext highlighter-rouge">long[] </code>, <code class="language-plaintext highlighter-rouge">float[]</code>, <code class="language-plaintext highlighter-rouge">double </code> или может быть массивом объектов. Единственным общим типом, включающим все эти типы, является <code class="language-plaintext highlighter-rouge">AnyRef</code> (или, равнозначно <code class="language-plaintext highlighter-rouge">java.lang.Object</code>), так что это тот тип в который компилятор Scala отобразит <code class="language-plaintext highlighter-rouge">Array[T]</code>. Во время исполнения, при обращении к элементу массива типа <code class="language-plaintext highlighter-rouge">Array[T]</code>, происходит последовательность проверок типов, которые определяют тип массива, за которыми следует подходящая операция на Java-массиве. Эти проверки типов замедляют работу массивов. Можно ожидать падения скорости доступа к обобщенным массивам в три-четыре раза, по сравнению с обычными массивами или массивами объектов. Это означает, что если вам нужна максимальная производительность, вам следует выбирать конкретные массивы, вместо обобщенных. Отображать обобщенный массив еще пол беды, нам нужен еще способ создания обобщенных массивов. Это куда более сложная задача, которая требует, от вас, небольшой помощи. Чтобы проиллюстрировать проблему, рассмотрим следующую попытку написания обобщенного метода, который создает массив.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// это неправильно!
def evenElems[T](xs: Vector[T]): Array[T] = {
  val arr = new Array[T]((xs.length + 1) / 2)
  for (i &lt;- 0 until xs.length by 2)
    arr(i / 2) = xs(i)
  arr
}
</code></pre></div></div>

<p>Метод <code class="language-plaintext highlighter-rouge">evenElems</code> возвращает новый массив, состоящий из всех элементов аргумента вектора <code class="language-plaintext highlighter-rouge">xs</code>, находящихся в четных позициях вектора. В первой строке тела <code class="language-plaintext highlighter-rouge">evenElems</code> создается результирующий массив, который имеет тот же тип элемента, что и аргумент. Так что в зависимости от фактического типа параметра для <code class="language-plaintext highlighter-rouge">T</code>, это может быть <code class="language-plaintext highlighter-rouge">Array[Int]</code>, или <code class="language-plaintext highlighter-rouge">Array[Boolean]</code>, или массив некоторых других примитивных типов Java, или массив какого-нибудь ссылочного типа. Но эти типы имеют разные представления при исполнении программы, и как же Scala подберет правильное представление? В действительности, Scala не может сделать этого, основываясь на предоставленной информации, так как при выполнении стирается фактический тип, соответствующий параметру типа <code class="language-plaintext highlighter-rouge">T</code>. Поэтому при компиляции показанного выше кода, появится следующее сообщение об ошибке:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>error: cannot find class manifest for element type T
  val arr = new Array[T]((arr.length + 1) / 2)
            ^
</code></pre></div></div>

<p>Тут нужно немного помочь компилятору, указав какой в действительности тип параметра <code class="language-plaintext highlighter-rouge">evenElems</code>. Это указание во время исполнения принимает форму манифеста класса типа <code class="language-plaintext highlighter-rouge">scala.view.ClassTag</code>. <em>Манифест класса</em> - это объект дескриптор типа, который описывает, какой тип у класса верхнего уровня. В качестве альтернативы манифестам классов существуют также <em>полные манифесты</em> типа <code class="language-plaintext highlighter-rouge">scala.Refect.Manifest</code>, которые описывают все аспекты типа. Впрочем для создания массива требуются только <em>манифесты класса</em>.</p>

<p>Компилятор Scala автоматически создаст манифесты классов, если вы проинструктируете его на это. “Инструктирование” означает, что вы требуете манифест класса в качестве неявного параметра, как в примере:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def evenElems[T](xs: Vector[T])(implicit m: ClassTag[T]): Array[T] = ...
</code></pre></div></div>

<p>Используя альтернативный и более короткий синтаксис, вы также можете потребовать, чтобы тип приходил с манифестом класса, используя <em>контекстное связывание</em> (<code class="language-plaintext highlighter-rouge">context bound</code>). Это означает установить связь с типом <code class="language-plaintext highlighter-rouge">ClassTag</code> идущим после двоеточия в описании типа, как в примере:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import scala.reflect.ClassTag
// так будет работать
def evenElems[T: ClassTag](xs: Vector[T]): Array[T] = {
  val arr = new Array[T]((xs.length + 1) / 2)
  for (i &lt;- 0 until xs.length by 2)
    arr(i / 2) = xs(i)
  arr
}
</code></pre></div></div>

<p>Обе показанные версии <code class="language-plaintext highlighter-rouge">evenElems</code> означают одно и то же. Что бы не случилось, когда построен <code class="language-plaintext highlighter-rouge">Array[T]</code>, компилятор будет искать манифест класса для параметра типа <code class="language-plaintext highlighter-rouge">T</code>, то есть искать неявное значение (implicit value) типа <code class="language-plaintext highlighter-rouge">ClassTag[T]</code>. Если такое значение найдено, то этот манифест будет использоваться для построения требуемого типа массива. В противном случае вы увидите сообщение об ошибке, такое же как мы показывали выше.</p>

<p>Вот некоторые примеры из консоли, использующие метод <code class="language-plaintext highlighter-rouge">evenElems</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; evenElems(Vector(1, 2, 3, 4, 5))
res6: Array[Int] = Array(1, 3, 5)
scala&gt; evenElems(Vector("this", "is", "a", "test", "run"))
res7: Array[java.lang.String] = Array(this, a, run)
</code></pre></div></div>

<p>В обоих случаях компилятор Scala автоматически построил манифест класса для типа элемента (сначала <code class="language-plaintext highlighter-rouge">Int</code>, затем <code class="language-plaintext highlighter-rouge">String</code>) и передал его в качестве неявного параметра метода <code class="language-plaintext highlighter-rouge">evenElems</code>. Компилятор может сделать это для всех конкретных типов, но не тогда, когда аргумент сам параметризован типом, который не содержит манифест класса. Например, следующий пример не скомпилируется:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; def wrap[U](xs: Vector[U]) = evenElems(xs)
&lt;console&gt;:6: error: No ClassTag available for U.
     def wrap[U](xs: Vector[U]) = evenElems(xs)
                                           ^ В данном случае `evenElems` требует наличия класса манифеста для параметра типа `U`, однако ни одного не найдено. Чтоб решить такую проблему, конечно, необходимо запросить манифест от неявного класса `U`. Поэтому следующее будет работать:

scala&gt; def wrap[U: ClassTag](xs: Vector[U]) = evenElems(xs)
wrap: [U](xs: Vector[U])(implicit evidence$1: scala.reflect.ClassTag[U])Array[U]
</code></pre></div></div>

<p>Этот пример также показывает, что контекстное связывание с <code class="language-plaintext highlighter-rouge">U</code>, является лишь сокращением для неявного параметра, названного здесь <code class="language-plaintext highlighter-rouge">evidence$1</code> типа <code class="language-plaintext highlighter-rouge">ClassTag[U]</code>.</p>

<p>Подводя итог, можно сказать, что для создания обобщенных массивов требуются манифесты классов. Поэтому при создании массива параметризированного типом <code class="language-plaintext highlighter-rouge">T</code>, вам также необходимо предоставить неявный класс манифест для <code class="language-plaintext highlighter-rouge">T</code>. Самый простой способ сделать это - объявить параметр типа <code class="language-plaintext highlighter-rouge">ClassTag</code> с контекстной привязкой, как <code class="language-plaintext highlighter-rouge">[T: ClassTag]</code>.</p>

				</div>

				<div class="two-columns">
					
					<a href="concrete-mutable-collection-classes.html">&larr; <strong>previous</strong></a>
					
					
					<a href="strings.html"><strong>next</strong> &rarr;</a>
					
				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
        
        
          <div class="inner-toc" id="sidebar-toc">
        

      <ul>
        
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
             <!-- if page is a translation, get the translated title -->
              
              
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
      </ul>

      
         
         
        <ul id="available-languages" style="display: none;">
          <li><a href="//overviews/collections-2.13/arrays.html">English</a></li>
          
            
            <li><a href="//ru/overviews/collections-2.13/arrays.html" class="lang">Русский</a></li>
          
        </ul>
      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/main/_ru/overviews/collections-2.13/arrays.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="//getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="//overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.13/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="//resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="//scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="//resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>



<script src="//scripts/searchbar.js" type="text/javascript"></script>
<link rel="stylesheet" href="//scripts/my.css" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">

<!-- moment js -->
<script src="//resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="//resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="//resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="//resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="//resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="//resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="//resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="//resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="//resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom JavaScript -->
<script src="//resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
if ($("#doc-search-bar").length) {
  docsearch({
    apiKey: 'fbc439670f5d4e3730cdcb715c359391',
    indexName: 'scala-lang',
    inputSelector: '#doc-search-bar',
    algoliaOptions: { 'facetFilters': ["language:en"] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
}
</script>
</body>

</html>

