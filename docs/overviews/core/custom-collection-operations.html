<!DOCTYPE html>

<html>

  <head>
    <title>
      Adding Custom Collection Operations (Scala 2.13) | 
      
      Scala Documentation
    </title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:site_name" content="Scala Documentation"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://0.0.0.0:4000/overviews/core/custom-collection-operations.html"/>
    <meta property="og:image" content="http://0.0.0.0:4000/resources/img/scala-spiral-3d-2-toned-down.png"/>
    <meta property="og:title" content="Adding Custom Collection Operations (Scala 2.13)"/>
    

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@scala_lang"/>
    <meta name="twitter:creator" content="@scala_lang"/>
    <meta name="twitter:title" content="Adding Custom Collection Operations (Scala 2.13)"/>
    

    <link rel="icon" type="image/png" href="/resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="/resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/resources/favicon-16x16.png">
    <link rel="manifest" href="/resources/site.webmanifest">
    <link rel="mask-icon" href="/resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="/resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="/resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>





<div class="navigation-fade-screen"></div>



<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="/resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="/" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>



<header id="doc-header">

  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      
      <div class="navigation-bdand">
      <a href="/">
        <img src="/resources/img/documentation-logo@2x.png" alt="docs">
      </a>
      <span class="doc-language-version">
        — Scala  2 
      </span>
      </div>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="api" >API</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="https://www.scala-lang.org/api/current/">Current</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/api/all.html">All Versions</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="/getting-started/index.html">Getting Started</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/tour/tour-of-scala.html">Tour of Scala</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/overviews/scala-book/introduction.html">Scala Book</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/learn.html">Online Resources</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="reference" >Reference</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="/overviews/index.html">Guides & Overviews</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/books.html">Books</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/tutorials/FAQ/index.html">Scala FAQ</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="http://scala-lang.org/files/archive/spec/2.13/">Language Spec</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/style/index.html" id="style guide" >Style Guide</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/cheatsheets/index.html" id="cheatsheet" >Cheatsheet</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/glossary/index.html" id="glossary" >Glossary</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/sips/index.html" id="sips" >SIPs</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="api" style="display: none;">
            
              <li>
                <a href="https://www.scala-lang.org/api/current/">Current</a>
              </li>
            
              <li>
                <a href="/api/all.html">All Versions</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="/getting-started/index.html">Getting Started</a>
              </li>
            
              <li>
                <a href="/tour/tour-of-scala.html">Tour of Scala</a>
              </li>
            
              <li>
                <a href="/overviews/scala-book/introduction.html">Scala Book</a>
              </li>
            
              <li>
                <a href="/tutorials/scala-for-java-programmers.html">Scala for Java Programmers</a>
              </li>
            
              <li>
                <a href="/learn.html">Online Resources</a>
              </li>
            
          </ul>
        
      
        
          <ul class="navigation-submenu" id="reference" style="display: none;">
            
              <li>
                <a href="/overviews/index.html">Guides & Overviews</a>
              </li>
            
              <li>
                <a href="/books.html">Books</a>
              </li>
            
              <li>
                <a href="/tutorials/FAQ/index.html">Scala FAQ</a>
              </li>
            
              <li>
                <a href="http://scala-lang.org/files/archive/spec/2.13/">Language Spec</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="/style/index.html">Style Guide</a></li>
          
        
          
            <li><a href="/cheatsheets/index.html">Cheatsheet</a></li>
          
        
          
            <li><a href="/glossary/index.html">Glossary</a></li>
          
        
          
            <li><a href="/sips/index.html">SIPs</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">
  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        

        <div class="titles">
          
            <div class="supertitle">&nbsp;</div>
          
          <h1>Adding Custom Collection Operations (Scala 2.13)</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<p><strong>Julien Richard-Foy</strong></p>

<p>This guide shows how to write operations that can be applied to any collection type and return the same
collection type, and how to write operations that can be parameterized by the type of collection to build.
It is recommended to first read the article about the
<a href="/overviews/core/architecture-of-scala-213-collections.html">architecture of the collections</a>.</p>

<p>The following sections present how to <strong>consume</strong>, <strong>produce</strong> and <strong>transform</strong> any collection type.</p>

<h2 id="consuming-any-collection">Consuming any collection</h2>

<p>In a first section we show how to write a method consuming any collection instance that is part of the
<a href="/overviews/collections/overview.html">collection hierarchy</a>. We show in a second section how to
support <em>collection-like</em> types such as <code class="language-plaintext highlighter-rouge">String</code> and <code class="language-plaintext highlighter-rouge">Array</code> (which don’t extend <code class="language-plaintext highlighter-rouge">IterableOnce</code>).</p>

<h3 id="consuming-any-actual-collection">Consuming any <em>actual</em> collection</h3>

<p>Let’s start with the simplest case: consuming any collection.
You don’t need to know the precise type of the collection,
but just that it <em>is</em> a collection. This can be achieved by taking an <code class="language-plaintext highlighter-rouge">IterableOnce[A]</code>
as parameter, or an <code class="language-plaintext highlighter-rouge">Iterable[A]</code> if you need more than one traversal.</p>

<p>For instance, say we want to implement a <code class="language-plaintext highlighter-rouge">sumBy</code> operation that sums the elements of a
collection after they have been transformed by a function:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">name</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">age</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

<span class="k">val</span> <span class="nv">users</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span><span class="nc">User</span><span class="o">(</span><span class="s">"Alice"</span><span class="o">,</span> <span class="mi">22</span><span class="o">),</span> <span class="nc">User</span><span class="o">(</span><span class="s">"Bob"</span><span class="o">,</span> <span class="mi">20</span><span class="o">))</span>

<span class="nf">println</span><span class="o">(</span><span class="nv">users</span><span class="o">.</span><span class="py">sumBy</span><span class="o">(</span><span class="nv">_</span><span class="o">.</span><span class="py">age</span><span class="o">))</span> <span class="c1">// “42”</span>
</code></pre></div></div>

<p>We can define the <code class="language-plaintext highlighter-rouge">sumBy</code> operation as an extension method, using an
<a href="/overviews/core/implicit-classes.html">implicit class</a>, so that it can be called like a method:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.collection.IterableOnce</span>

<span class="k">implicit</span> <span class="k">class</span> <span class="nc">SumByOperation</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">coll</span><span class="k">:</span> <span class="kt">IterableOnce</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">sumBy</span><span class="o">[</span><span class="kt">B</span><span class="o">](</span><span class="n">f</span><span class="k">:</span> <span class="kt">A</span> <span class="o">=&gt;</span> <span class="n">B</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">num</span><span class="k">:</span> <span class="kt">Numeric</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">B</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">it</span> <span class="k">=</span> <span class="nv">coll</span><span class="o">.</span><span class="py">iterator</span>
    <span class="k">var</span> <span class="n">result</span> <span class="k">=</span> <span class="nf">f</span><span class="o">(</span><span class="nv">it</span><span class="o">.</span><span class="py">next</span><span class="o">())</span>
    <span class="nf">while</span> <span class="o">(</span><span class="nv">it</span><span class="o">.</span><span class="py">hasNext</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">result</span> <span class="k">=</span> <span class="nv">num</span><span class="o">.</span><span class="py">plus</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="nf">f</span><span class="o">(</span><span class="nv">it</span><span class="o">.</span><span class="py">next</span><span class="o">()))</span>
    <span class="o">}</span>
    <span class="n">result</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Unfortunately, this extension method does not work with values of type <code class="language-plaintext highlighter-rouge">String</code> and not
even with <code class="language-plaintext highlighter-rouge">Array</code>. This is because these types are not part of the Scala collections
hierarchy. They can be converted to proper collection types, though, but the extension method
will not work directly on <code class="language-plaintext highlighter-rouge">String</code> and <code class="language-plaintext highlighter-rouge">Array</code> because that would require applying two implicit
conversions in a row.</p>

<h3 id="consuming-any-type-that-is-like-a-collection">Consuming any type that is <em>like</em> a collection</h3>

<p>If we want the <code class="language-plaintext highlighter-rouge">sumBy</code> to work on any type that is <em>like</em> a collection, such as <code class="language-plaintext highlighter-rouge">String</code>
and <code class="language-plaintext highlighter-rouge">Array</code>, we have to add another indirection level:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.collection.generic.IsIterable</span>

<span class="k">class</span> <span class="nc">SumByOperation</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">coll</span><span class="k">:</span> <span class="kt">IterableOnce</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">sumBy</span><span class="o">[</span><span class="kt">B</span><span class="o">](</span><span class="n">f</span><span class="k">:</span> <span class="kt">A</span> <span class="o">=&gt;</span> <span class="n">B</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">num</span><span class="k">:</span> <span class="kt">Numeric</span><span class="o">[</span><span class="kt">B</span><span class="o">])</span><span class="k">:</span> <span class="kt">B</span> <span class="o">=</span> <span class="o">...</span> <span class="c1">// same as before</span>
<span class="o">}</span>

<span class="k">implicit</span> <span class="k">def</span> <span class="nf">SumByOperation</span><span class="o">[</span><span class="kt">Repr</span><span class="o">](</span><span class="n">coll</span><span class="k">:</span> <span class="kt">Repr</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">it</span><span class="k">:</span> <span class="kt">IsIterable</span><span class="o">[</span><span class="kt">Repr</span><span class="o">])</span><span class="k">:</span> <span class="kt">SumByOperation</span><span class="o">[</span><span class="kt">it.A</span><span class="o">]</span> <span class="k">=</span>
  <span class="k">new</span> <span class="nc">SumByOperation</span><span class="o">[</span><span class="kt">it.A</span><span class="o">](</span><span class="nf">it</span><span class="o">(</span><span class="n">coll</span><span class="o">))</span>
</code></pre></div></div>

<p>The type <code class="language-plaintext highlighter-rouge">IsIterable[Repr]</code> has implicit instances for all types <code class="language-plaintext highlighter-rouge">Repr</code> that can be converted
to <code class="language-plaintext highlighter-rouge">IterableOps[A, Iterable, C]</code> (for some element type <code class="language-plaintext highlighter-rouge">A</code> and some collection type <code class="language-plaintext highlighter-rouge">C</code>). There are
instances for actual collection types and also for <code class="language-plaintext highlighter-rouge">String</code> and <code class="language-plaintext highlighter-rouge">Array</code>.</p>

<h3 id="consuming-a-more-specific-collection-than-iterable">Consuming a more specific collection than <code class="language-plaintext highlighter-rouge">Iterable</code></h3>

<p>In some cases we want (or need) the receiver of the operation to be more specific than <code class="language-plaintext highlighter-rouge">Iterable</code>.
For instance, some operations make sense only on <code class="language-plaintext highlighter-rouge">Seq</code> but not on <code class="language-plaintext highlighter-rouge">Set</code>.</p>

<p>In such a case, again, the most straightforward solution would be to take as parameter a <code class="language-plaintext highlighter-rouge">Seq</code> instead
of an <code class="language-plaintext highlighter-rouge">Iterable</code> or an <code class="language-plaintext highlighter-rouge">IterableOnce</code>, but this would work only with <em>actual</em> <code class="language-plaintext highlighter-rouge">Seq</code> values. If you want
to support <code class="language-plaintext highlighter-rouge">String</code> and <code class="language-plaintext highlighter-rouge">Array</code> values you have to use <code class="language-plaintext highlighter-rouge">IsSeq</code> instead. <code class="language-plaintext highlighter-rouge">IsSeq</code> is similar to
<code class="language-plaintext highlighter-rouge">IsIterable</code> but provides a conversion to <code class="language-plaintext highlighter-rouge">SeqOps[A, Iterable, C]</code> (for some types <code class="language-plaintext highlighter-rouge">A</code> and <code class="language-plaintext highlighter-rouge">C</code>).</p>

<p>Using <code class="language-plaintext highlighter-rouge">IsSeq</code> is also required to make your operation work on <code class="language-plaintext highlighter-rouge">SeqView</code> values, because <code class="language-plaintext highlighter-rouge">SeqView</code>
does not extend <code class="language-plaintext highlighter-rouge">Seq</code>. Similarly, there is an <code class="language-plaintext highlighter-rouge">IsMap</code> type that makes operations work with
both <code class="language-plaintext highlighter-rouge">Map</code> and <code class="language-plaintext highlighter-rouge">MapView</code> values.</p>

<h2 id="producing-any-collection">Producing any collection</h2>

<p>This situation happens when a library provides an operation that produces a collection while leaving the
choice of the precise collection type to the user.</p>

<p>For instance, consider a type class <code class="language-plaintext highlighter-rouge">Gen[A]</code>, whose instances define how to produce values of type <code class="language-plaintext highlighter-rouge">A</code>.
Such a type class is typically used to create arbitrary test data.
Our goal is to define a <code class="language-plaintext highlighter-rouge">collection</code> operation that generates arbitrary collections containing arbitrary
values. Here is an example of use of <code class="language-plaintext highlighter-rouge">collection</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; collection[List, Int].get
res0: List[Int] = List(606179450, -1479909815, 2107368132, 332900044, 1833159330, -406467525, 646515139, -575698977, -784473478, -1663770602)

scala&gt; collection[LazyList, Boolean].get
res1: LazyList[Boolean] = LazyList(_, ?)

scala&gt; collection[Set, Int].get
res2: Set[Int] = HashSet(-1775377531, -1376640531, -1009522404, 526943297, 1431886606, -1486861391)
</code></pre></div></div>

<p>A very basic definition of <code class="language-plaintext highlighter-rouge">Gen[A]</code> could be the following:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">Gen</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="o">{</span>
  <span class="cm">/** Get a generated value of type `A` */</span>
  <span class="k">def</span> <span class="nf">get</span><span class="k">:</span> <span class="kt">A</span>
<span class="o">}</span>
</code></pre></div></div>

<p>And the following instances can be defined:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.util.Random</span>

<span class="k">object</span> <span class="nc">Gen</span> <span class="o">{</span>

  <span class="cm">/** Generator of `Int` values */</span>
  <span class="k">implicit</span> <span class="k">def</span> <span class="nf">int</span><span class="k">:</span> <span class="kt">Gen</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">new</span> <span class="nc">Gen</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="o">{</span> <span class="k">def</span> <span class="nf">get</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="nv">Random</span><span class="o">.</span><span class="py">nextInt</span><span class="o">()</span> <span class="o">}</span>

  <span class="cm">/** Generator of `Boolean` values */</span>
  <span class="k">implicit</span> <span class="k">def</span> <span class="nf">boolean</span><span class="k">:</span> <span class="kt">Gen</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">new</span> <span class="nc">Gen</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="o">{</span> <span class="k">def</span> <span class="nf">get</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="nv">Random</span><span class="o">.</span><span class="py">nextBoolean</span><span class="o">()</span> <span class="o">}</span>

  <span class="cm">/** Given a generator of `A` values, provides a generator of `List[A]` values */</span>
  <span class="k">implicit</span> <span class="k">def</span> <span class="nf">list</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="k">implicit</span> <span class="n">genA</span><span class="k">:</span> <span class="kt">Gen</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span><span class="k">:</span> <span class="kt">Gen</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]]</span> <span class="k">=</span>
    <span class="k">new</span> <span class="nc">Gen</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]]</span> <span class="o">{</span>
      <span class="k">def</span> <span class="nf">get</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span>
        <span class="nf">if</span> <span class="o">(</span><span class="nv">Random</span><span class="o">.</span><span class="py">nextInt</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="nc">Nil</span>
        <span class="k">else</span> <span class="nv">genA</span><span class="o">.</span><span class="py">get</span> <span class="o">::</span> <span class="n">get</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>The last definition (<code class="language-plaintext highlighter-rouge">list</code>) generates a value of type <code class="language-plaintext highlighter-rouge">List[A]</code> given a generator
of values of type <code class="language-plaintext highlighter-rouge">A</code>. We could implement a generator of <code class="language-plaintext highlighter-rouge">Vector[A]</code> or <code class="language-plaintext highlighter-rouge">Set[A]</code> as
well, but their implementations would be very similar.</p>

<p>Instead, we want to abstract over the type of the generated collection so that users
can decide which collection type they want to produce.</p>

<p>To achieve that we have to use <code class="language-plaintext highlighter-rouge">scala.collection.Factory</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">Factory</span><span class="o">[</span><span class="kt">-A</span>, <span class="kt">+C</span><span class="o">]</span> <span class="o">{</span>

  <span class="cm">/** @return A collection of type `C` containing the same elements
    *         as the source collection `it`.
    * @param it Source collection
    */</span>
  <span class="k">def</span> <span class="nf">fromSpecific</span><span class="o">(</span><span class="n">it</span><span class="k">:</span> <span class="kt">IterableOnce</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span><span class="k">:</span> <span class="kt">C</span>

  <span class="cm">/** Get a Builder for the collection. For non-strict collection
    * types this will use an intermediate buffer.
    * Building collections with `fromSpecific` is preferred
    * because it can be lazy for lazy collections.
    */</span>
  <span class="k">def</span> <span class="nf">newBuilder</span><span class="k">:</span> <span class="kt">Builder</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">C</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">Factory[A, C]</code> trait provides two ways of building a collection <code class="language-plaintext highlighter-rouge">C</code> from
elements of type <code class="language-plaintext highlighter-rouge">A</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">fromSpecific</code>, converts a source collection of <code class="language-plaintext highlighter-rouge">A</code> to a collection <code class="language-plaintext highlighter-rouge">C</code>,</li>
  <li><code class="language-plaintext highlighter-rouge">newBuilder</code>, provides a <code class="language-plaintext highlighter-rouge">Builder[A, C]</code>.</li>
</ul>

<p>The difference between these two methods is that the former does not necessarily
evaluate the elements of the source collection. It can produce a non-strict
collection type (such as <code class="language-plaintext highlighter-rouge">LazyList</code>) that does not evaluate its elements unless
it is traversed. On the other hand, the builder-based way of constructing the
collection necessarily evaluates the elements of the resulting collection.
In practice, it is recommended to <a href="/overviews/core/architecture-of-scala-213-collections.html#when-a-strict-evaluation-is-preferable-or-unavoidable">not eagerly evaluate the elements of the collection</a>.</p>

<p>Finally, here is how we can implement a generator of arbitrary collection types:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.collection.Factory</span>

<span class="k">implicit</span> <span class="k">def</span> <span class="nf">collection</span><span class="o">[</span><span class="kt">CC</span><span class="o">[</span><span class="k">_</span><span class="o">]</span>, <span class="kt">A</span><span class="o">](</span><span class="k">implicit</span>
  <span class="n">genA</span><span class="k">:</span> <span class="kt">Gen</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span>
  <span class="n">factory</span><span class="k">:</span> <span class="kt">Factory</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">CC</span><span class="o">[</span><span class="kt">A</span><span class="o">]]</span>
<span class="o">)</span><span class="k">:</span> <span class="kt">Gen</span><span class="o">[</span><span class="kt">CC</span><span class="o">[</span><span class="kt">A</span><span class="o">]]</span> <span class="k">=</span>
  <span class="k">new</span> <span class="nc">Gen</span><span class="o">[</span><span class="kt">CC</span><span class="o">[</span><span class="kt">A</span><span class="o">]]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="nf">get</span><span class="k">:</span> <span class="kt">CC</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
      <span class="k">val</span> <span class="nv">lazyElements</span> <span class="k">=</span>
        <span class="nv">LazyList</span><span class="o">.</span><span class="py">unfold</span><span class="o">(())</span> <span class="o">{</span> <span class="k">_</span> <span class="k">=&gt;</span>
          <span class="nf">if</span> <span class="o">(</span><span class="nv">Random</span><span class="o">.</span><span class="py">nextInt</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="nc">None</span>
          <span class="k">else</span> <span class="nc">Some</span><span class="o">((</span><span class="nv">genA</span><span class="o">.</span><span class="py">get</span><span class="o">,</span> <span class="o">()))</span>
        <span class="o">}</span>
      <span class="nv">factory</span><span class="o">.</span><span class="py">fromSpecific</span><span class="o">(</span><span class="n">lazyElements</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<p>The implementation uses a lazy source collection of a random size (<code class="language-plaintext highlighter-rouge">lazyElements</code>).
Then it calls the <code class="language-plaintext highlighter-rouge">fromSpecific</code> method of the <code class="language-plaintext highlighter-rouge">Factory</code> to build the collection
expected by the user.</p>

<h2 id="transforming-any-collection">Transforming any collection</h2>

<p>Transforming collections consists in both consuming and producing collections. This is achieved by
combining the techniques described in the previous sections.</p>

<p>For instance, we want to implement an <code class="language-plaintext highlighter-rouge">intersperse</code> operation that can be applied to
any sequence and returns a sequence with a new element inserted between each element of the
source sequence:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">).</span><span class="py">intersperse</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
<span class="s">"foo"</span><span class="o">.</span><span class="py">intersperse</span><span class="o">(</span><span class="sc">' '</span><span class="o">)</span> <span class="o">==</span> <span class="s">"f o o"</span>
</code></pre></div></div>

<p>When we call it on a <code class="language-plaintext highlighter-rouge">List</code>, we want to get back another <code class="language-plaintext highlighter-rouge">List</code>, and when we call it on
a <code class="language-plaintext highlighter-rouge">String</code> we want to get back another <code class="language-plaintext highlighter-rouge">String</code>, and so on.</p>

<p>Building on what we’ve learned from the previous sections, we can start defining an extension method
using <code class="language-plaintext highlighter-rouge">IsSeq</code> and producing a collection by using an implicit <code class="language-plaintext highlighter-rouge">Factory</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.collection.</span><span class="o">{</span> <span class="nc">AbstractIterator</span><span class="o">,</span> <span class="nc">AbstractView</span><span class="o">,</span> <span class="nc">Factory</span><span class="o">,</span> <span class="nc">SeqOps</span> <span class="o">}</span>
<span class="k">import</span> <span class="nn">scala.collection.generic.IsSeq</span>

<span class="k">class</span> <span class="nc">IntersperseOperation</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">seqOps</span><span class="k">:</span> <span class="kt">SeqOps</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">Iterable</span>, <span class="k">_</span><span class="o">])</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">intersperse</span><span class="o">[</span><span class="kt">B</span> <span class="k">&gt;:</span> <span class="kt">A</span>, <span class="kt">That</span><span class="o">](</span><span class="n">sep</span><span class="k">:</span> <span class="kt">B</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">factory</span><span class="k">:</span> <span class="kt">Factory</span><span class="o">[</span><span class="kt">B</span>, <span class="kt">That</span><span class="o">])</span><span class="k">:</span> <span class="kt">That</span> <span class="o">=</span>
    <span class="nv">factory</span><span class="o">.</span><span class="py">fromSpecific</span><span class="o">(</span><span class="k">new</span> <span class="nc">AbstractView</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span> <span class="o">{</span>
      <span class="k">def</span> <span class="nf">iterator</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">AbstractIterator</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span> <span class="o">{</span>
        <span class="k">val</span> <span class="nv">it</span> <span class="k">=</span> <span class="nv">seqOps</span><span class="o">.</span><span class="py">iterator</span>
        <span class="k">var</span> <span class="n">intersperseNext</span> <span class="k">=</span> <span class="kc">false</span>
        <span class="k">def</span> <span class="nf">hasNext</span> <span class="k">=</span> <span class="n">intersperseNext</span> <span class="o">||</span> <span class="nv">it</span><span class="o">.</span><span class="py">hasNext</span>
        <span class="k">def</span> <span class="nf">next</span><span class="o">()</span> <span class="k">=</span> <span class="o">{</span>
          <span class="k">val</span> <span class="nv">elem</span> <span class="k">=</span> <span class="nf">if</span> <span class="o">(</span><span class="n">intersperseNext</span><span class="o">)</span> <span class="n">sep</span> <span class="k">else</span> <span class="nv">it</span><span class="o">.</span><span class="py">next</span><span class="o">()</span>
          <span class="n">intersperseNext</span> <span class="k">=</span> <span class="o">!</span><span class="n">intersperseNext</span> <span class="o">&amp;&amp;</span> <span class="nv">it</span><span class="o">.</span><span class="py">hasNext</span>
          <span class="n">elem</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">})</span>
<span class="o">}</span>

<span class="k">implicit</span> <span class="k">def</span> <span class="nf">IntersperseOperation</span><span class="o">[</span><span class="kt">Repr</span><span class="o">](</span><span class="n">coll</span><span class="k">:</span> <span class="kt">Repr</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">seq</span><span class="k">:</span> <span class="kt">IsSeq</span><span class="o">[</span><span class="kt">Repr</span><span class="o">])</span><span class="k">:</span> <span class="kt">IntersperseOperation</span><span class="o">[</span><span class="kt">seq.A</span><span class="o">]</span> <span class="k">=</span>
  <span class="k">new</span> <span class="nc">IntersperseOperation</span><span class="o">(</span><span class="nf">seq</span><span class="o">(</span><span class="n">coll</span><span class="o">))</span>
</code></pre></div></div>

<p>However, if we try it we get the following behaviour:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; List(1, 2, 3).intersperse(0)
res0: Array[Int] = Array(1, 0, 2, 0, 3)
</code></pre></div></div>

<p>We get back an <code class="language-plaintext highlighter-rouge">Array</code> although the source collection was a <code class="language-plaintext highlighter-rouge">List</code>! Indeed, there is
nothing that constrains the result type of <code class="language-plaintext highlighter-rouge">intersperse</code> to depend on the receiver type.</p>

<p>To produce a collection whose type depends on a source collection, we have to use
<code class="language-plaintext highlighter-rouge">scala.collection.BuildFrom</code> (formerly known as <code class="language-plaintext highlighter-rouge">CanBuildFrom</code>) instead of <code class="language-plaintext highlighter-rouge">Factory</code>.
<code class="language-plaintext highlighter-rouge">BuildFrom</code> is defined as follows:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">BuildFrom</span><span class="o">[</span><span class="kt">-From</span>, <span class="kt">-A</span>, <span class="kt">+C</span><span class="o">]</span> <span class="o">{</span>
  <span class="cm">/** @return a collection of type `C` containing the same elements
    * (of type `A`) as the source collection `it`.
    */</span>
  <span class="k">def</span> <span class="nf">fromSpecific</span><span class="o">(</span><span class="n">from</span><span class="k">:</span> <span class="kt">From</span><span class="o">)(</span><span class="n">it</span><span class="k">:</span> <span class="kt">IterableOnce</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span><span class="k">:</span> <span class="kt">C</span>

  <span class="cm">/** @return a Builder for the collection type `C`, containing
    * elements of type `A`.
    */</span>
  <span class="k">def</span> <span class="nf">newBuilder</span><span class="o">(</span><span class="n">from</span><span class="k">:</span> <span class="kt">From</span><span class="o">)</span><span class="k">:</span> <span class="kt">Builder</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">C</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">BuildFrom</code> has similar operations to <code class="language-plaintext highlighter-rouge">Factory</code>, but they take an additional <code class="language-plaintext highlighter-rouge">from</code>
parameter. Before explaining how implicit instances of <code class="language-plaintext highlighter-rouge">BuildFrom</code> are resolved, let’s first have
a look at how you can use it. Here is the implementation of <code class="language-plaintext highlighter-rouge">intersperse</code> based on <code class="language-plaintext highlighter-rouge">BuildFrom</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.collection.</span><span class="o">{</span> <span class="nc">AbstractView</span><span class="o">,</span> <span class="nc">BuildFrom</span> <span class="o">}</span>
<span class="k">import</span> <span class="nn">scala.collection.generic.IsSeq</span>

<span class="k">class</span> <span class="nc">IntersperseOperation</span><span class="o">[</span><span class="kt">Repr</span>, <span class="kt">S</span> <span class="k">&lt;:</span> <span class="kt">IsSeq</span><span class="o">[</span><span class="kt">Repr</span><span class="o">]](</span><span class="n">coll</span><span class="k">:</span> <span class="kt">Repr</span><span class="o">,</span> <span class="n">seq</span><span class="k">:</span> <span class="kt">S</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">def</span> <span class="nf">intersperse</span><span class="o">[</span><span class="kt">B</span> <span class="k">&gt;:</span> <span class="kt">seq.A</span>, <span class="kt">That</span><span class="o">](</span><span class="n">sep</span><span class="k">:</span> <span class="kt">B</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">bf</span><span class="k">:</span> <span class="kt">BuildFrom</span><span class="o">[</span><span class="kt">Repr</span>, <span class="kt">B</span>, <span class="kt">That</span><span class="o">])</span><span class="k">:</span> <span class="kt">That</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">seqOps</span> <span class="k">=</span> <span class="nf">seq</span><span class="o">(</span><span class="n">coll</span><span class="o">)</span>
    <span class="nv">bf</span><span class="o">.</span><span class="py">fromSpecific</span><span class="o">(</span><span class="n">coll</span><span class="o">)(</span><span class="k">new</span> <span class="nc">AbstractView</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span> <span class="o">{</span>
      <span class="c1">// same as before</span>
    <span class="o">})</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="k">implicit</span> <span class="k">def</span> <span class="nf">IntersperseOperation</span><span class="o">[</span><span class="kt">Repr</span><span class="o">](</span><span class="n">coll</span><span class="k">:</span> <span class="kt">Repr</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">seq</span><span class="k">:</span> <span class="kt">IsSeq</span><span class="o">[</span><span class="kt">Repr</span><span class="o">])</span><span class="k">:</span> <span class="kt">IntersperseOperation</span><span class="o">[</span><span class="kt">Repr</span>, <span class="kt">seq.</span><span class="k">type</span><span class="o">]</span> <span class="k">=</span>
  <span class="k">new</span> <span class="nc">IntersperseOperation</span><span class="o">(</span><span class="n">coll</span><span class="o">,</span> <span class="n">seq</span><span class="o">)</span>
</code></pre></div></div>

<p>Note that we track the type of the receiver collection <code class="language-plaintext highlighter-rouge">Repr</code> in the <code class="language-plaintext highlighter-rouge">IntersperseOperation</code>
class. Now, consider what happens when we write the following expression:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">).</span><span class="py">intersperse</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
</code></pre></div></div>

<p>An implicit parameter of type <code class="language-plaintext highlighter-rouge">BuildFrom[Repr, B, That]</code> has to be resolved by the compiler.
The type <code class="language-plaintext highlighter-rouge">Repr</code> is constrained by the receiver type (here, <code class="language-plaintext highlighter-rouge">List[Int]</code>) and the type <code class="language-plaintext highlighter-rouge">B</code> is
inferred by the value passed as a separator (here, <code class="language-plaintext highlighter-rouge">Int</code>). Finally, the type of the collection
to produce, <code class="language-plaintext highlighter-rouge">That</code> is fixed by the resolution of the <code class="language-plaintext highlighter-rouge">BuildFrom</code> parameter. In our case,
there is a <code class="language-plaintext highlighter-rouge">BuildFrom[List[Int], Int, List[Int]]</code> instance that fixes the result type to
be <code class="language-plaintext highlighter-rouge">List[Int]</code>.</p>

<h2 id="summary">Summary</h2>

<ul>
  <li>To consume any collection, take an <code class="language-plaintext highlighter-rouge">IterableOnce</code> (or something more specific such as <code class="language-plaintext highlighter-rouge">Iterable</code>, <code class="language-plaintext highlighter-rouge">Seq</code>, etc.)
as parameter,
    <ul>
      <li>To also support <code class="language-plaintext highlighter-rouge">String</code>, <code class="language-plaintext highlighter-rouge">Array</code> and <code class="language-plaintext highlighter-rouge">View</code>, use <code class="language-plaintext highlighter-rouge">IsIterable</code>,</li>
    </ul>
  </li>
  <li>To produce a collection given its type, use a <code class="language-plaintext highlighter-rouge">Factory</code>,</li>
  <li>To produce a collection based on the type of a source collection and the type of elements of the collection
to produce, use <code class="language-plaintext highlighter-rouge">BuildFrom</code>.</li>
</ul>

				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
		<div class="inner-toc" id="sidebar-toc">
      <div id="toc"></div>
      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/main/_overviews/core/custom-collection-operations.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="/getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="/overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.13/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="/resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="/scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="/resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>



<script src="/scripts/searchbar.js" type="text/javascript"></script>
<link rel="stylesheet" href="/scripts/my.css" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">

<!-- moment js -->
<script src="/resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="/resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="/resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="/resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="/resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="/resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="/resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="/resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="/resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom JavaScript -->
<script src="/resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
if ($("#doc-search-bar").length) {
  docsearch({
    apiKey: 'fbc439670f5d4e3730cdcb715c359391',
    indexName: 'scala-lang',
    inputSelector: '#doc-search-bar',
    algoliaOptions: { 'facetFilters': ["language:en"] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
}
</script>
</body>

</html>

