<!DOCTYPE html>

<html class="scala3">

  <head>
    <title>
      Concurrency | 
      Scala 3 — Book | 
      Scala Documentation
    </title>
    
    <meta name="description" content="This page discusses how Scala concurrency works, with an emphasis on Scala Futures." />
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:site_name" content="Scala Documentation"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://0.0.0.0:4000/scala3/book/concurrency.html"/>
    <meta property="og:image" content="http://0.0.0.0:4000/resources/img/scala-spiral-3d-2-toned-down.png"/>
    <meta property="og:title" content="Concurrency"/>
    <meta property="og:description" content="This page discusses how Scala concurrency works, with an emphasis on Scala Futures."/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@scala_lang"/>
    <meta name="twitter:creator" content="@scala_lang"/>
    <meta name="twitter:title" content="Concurrency"/>
    <meta name="twitter:description" content="This page discusses how Scala concurrency works, with an emphasis on Scala Futures."/>

    <link rel="icon" type="image/png" href="docs.scala-lang//resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="docs.scala-lang//resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="docs.scala-lang//resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="docs.scala-lang//resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="docs.scala-lang//resources/favicon-16x16.png">
    <link rel="manifest" href="docs.scala-lang//resources/site.webmanifest">
    <link rel="mask-icon" href="docs.scala-lang//resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="docs.scala-lang//resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="docs.scala-lang//resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="docs.scala-lang//resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="docs.scala-lang//resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="docs.scala-lang//resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>





<div class="navigation-fade-screen"></div>



<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="docs.scala-lang//resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="docs.scala-lang//" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>



<header id="doc-header" class="scala3">

  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      
      <div class="navigation-bdand">
      <a href="docs.scala-lang//">
        <img src="docs.scala-lang//resources/img/documentation-logo@2x.png" alt="docs">
      </a>
      <span class="doc-language-version">
        — Scala  3 
      </span>
      </div>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="docs.scala-lang//scala3/new-in-scala3.html">New in Scala 3</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="docs.scala-lang//scala3/getting-started.html">Getting Started</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="docs.scala-lang//scala3/book/introduction.html">Scala 3 Book</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="docs.scala-lang//scala3/guides/macros/index.html">Macro Tutorial</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="docs.scala-lang//scala3/guides/migration/compatibility-intro.html" id="migrate" >Migrate</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="docs.scala-lang//scala3/reference/overview.html" id="reference" >Reference</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="https://dotty.epfl.ch/api/index.html" id="api" >API</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="docs.scala-lang//scala3/new-in-scala3.html">New in Scala 3</a>
              </li>
            
              <li>
                <a href="docs.scala-lang//scala3/getting-started.html">Getting Started</a>
              </li>
            
              <li>
                <a href="docs.scala-lang//scala3/book/introduction.html">Scala 3 Book</a>
              </li>
            
              <li>
                <a href="docs.scala-lang//scala3/guides/macros/index.html">Macro Tutorial</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="https://dotty.epfl.ch/api/index.html">API</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">
  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        
          <div class="wip-notice">
            <h4>Work in Progress</h4>
            <p>
              We are still in the process of writing the documentation for Scala 3.
              You can <a  href="/scala3/contribute-to-docs.html">help us</a> to improve the documentation.
            </p>
            <p>Are you searching for the <a href="/">Scala 2 documentation</a>?</p>
          </div>
        

        <div class="titles">
          
            <div class="supertitle">Scala 3 — Book</div>
          
          <h1>Concurrency</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<p>When you want to write parallel and concurrent applications in Scala, you <em>can</em> use the native Java <code class="language-plaintext highlighter-rouge">Thread</code>—but the Scala <a href="https://www.scala-lang.org/api/current/scala/concurrent/Future$.html">Future</a> offers a more high level and idiomatic approach so it’s preferred, and covered in this chapter.</p>

<h2 id="introduction">Introduction</h2>

<p>Here’s a description of the Scala <code class="language-plaintext highlighter-rouge">Future</code> from its Scaladoc:</p>

<blockquote>
  <p>“A <code class="language-plaintext highlighter-rouge">Future</code> represents a value which may or may not <em>currently</em> be available, but will be available at some point, or an exception if that value could not be made available.”</p>
</blockquote>

<p>To demonstrate what that means, let’s first look at single-threaded programming.
In the single-threaded world you bind the result of a method call to a variable like this:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">aShortRunningTask</span><span class="o">()</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">42</span>
<span class="k">val</span> <span class="nv">x</span> <span class="k">=</span> <span class="nf">aShortRunningTask</span><span class="o">()</span>
</code></pre></div></div>

<p>In this code, the value <code class="language-plaintext highlighter-rouge">42</code> is immediately bound to <code class="language-plaintext highlighter-rouge">x</code>.</p>

<p>When you’re working with a <code class="language-plaintext highlighter-rouge">Future</code>, the assignment process looks similar:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">aLongRunningTask</span><span class="o">()</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="o">???</span>
<span class="k">val</span> <span class="nv">x</span> <span class="k">=</span> <span class="nf">aLongRunningTask</span><span class="o">()</span>
</code></pre></div></div>

<p>But the main difference in this case is that because <code class="language-plaintext highlighter-rouge">aLongRunningTask</code> takes an indeterminate amount of time to return, the value in <code class="language-plaintext highlighter-rouge">x</code> may or may not be <em>currently</em> available, but it will be available at some point—in the future.</p>

<p>Another way to look at this is in terms of blocking.
In this single-threaded example, the <code class="language-plaintext highlighter-rouge">println</code> statement isn’t printed until <code class="language-plaintext highlighter-rouge">aShortRunningTask</code> completes:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">aShortRunningTask</span><span class="o">()</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span>
  <span class="nv">Thread</span><span class="o">.</span><span class="py">sleep</span><span class="o">(</span><span class="mi">500</span><span class="o">)</span>
  <span class="mi">42</span>
<span class="k">val</span> <span class="nv">x</span> <span class="k">=</span> <span class="nf">aShortRunningTask</span><span class="o">()</span>
<span class="nf">println</span><span class="o">(</span><span class="s">"Here"</span><span class="o">)</span>
</code></pre></div></div>

<p>Conversely, if <code class="language-plaintext highlighter-rouge">aShortRunningTask</code> is created as a <code class="language-plaintext highlighter-rouge">Future</code>, the <code class="language-plaintext highlighter-rouge">println</code> statement is printed almost immediately because <code class="language-plaintext highlighter-rouge">aShortRunningTask</code> is spawned off on some other thread—it doesn’t block.</p>

<p>In this chapter you’ll see how to use futures, including how to run multiple futures in parallel and combine their results in a <code class="language-plaintext highlighter-rouge">for</code> expression.
You’ll also see examples of methods that are used to handle the value in a future once it returns.</p>

<blockquote>
  <p>When you think about futures, it’s important to know that they’re intended as a one-shot, “Handle this relatively slow computation on some other thread, and call me back with a result when you’re done” construct.
As a point of contrast, <a href="https://akka.io">Akka</a> actors are intended to run for a long time and respond to many requests during their lifetime.
While an actor may live forever, a future eventually contains the result
of a computation that ran only once.</p>
</blockquote>

<h2 id="an-example-in-the-repl">An example in the REPL</h2>

<p>A future is used to create a temporary pocket of concurrency.
For instance, you use a future when you need to call an algorithm that runs an indeterminate amount of time—such as calling a remote microservice—so you want to run it off of the main thread.</p>

<p>To demonstrate how this works, let’s start with a <code class="language-plaintext highlighter-rouge">Future</code> example in the REPL.
First, paste in these required <code class="language-plaintext highlighter-rouge">import</code> statements:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.concurrent.Future</span>
<span class="k">import</span> <span class="nn">scala.concurrent.ExecutionContext.Implicits.global</span>
<span class="k">import</span> <span class="nn">scala.util.</span><span class="o">{</span><span class="nc">Failure</span><span class="o">,</span> <span class="nc">Success</span><span class="o">}</span>
</code></pre></div></div>

<p>Now you’re ready to create a future.
For this example, first define a long-running, single-threaded algorithm:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">longRunningAlgorithm</span><span class="o">()</span> <span class="k">=</span>
  <span class="nv">Thread</span><span class="o">.</span><span class="py">sleep</span><span class="o">(</span><span class="mi">10</span><span class="n">_000</span><span class="o">)</span>
  <span class="mi">42</span>
</code></pre></div></div>

<p>That fancy algorithm returns the integer value <code class="language-plaintext highlighter-rouge">42</code> after a ten second delay.
Now call that algorithm by wrapping it into the <code class="language-plaintext highlighter-rouge">Future</code> constructor, and assigning the result to a variable:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="nv">eventualInt</span> <span class="k">=</span> <span class="nc">Future</span><span class="o">(</span><span class="nf">longRunningAlgorithm</span><span class="o">())</span>
<span class="n">eventualInt</span><span class="k">:</span> <span class="kt">scala.concurrent.Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Future</span><span class="o">(&lt;</span><span class="n">not</span> <span class="n">completed</span><span class="o">&gt;)</span>
</code></pre></div></div>

<p>Right away, your computation—the call to <code class="language-plaintext highlighter-rouge">longRunningAlgorithm()</code>—begins running.
If you immediately check the value of the variable <code class="language-plaintext highlighter-rouge">eventualInt</code>, you see that the future hasn’t been completed yet:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="n">eventualInt</span>
<span class="k">val</span> <span class="nv">res1</span><span class="k">:</span> <span class="kt">scala.concurrent.Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Future</span><span class="o">(&lt;</span><span class="n">not</span> <span class="n">completed</span><span class="o">&gt;)</span>
</code></pre></div></div>

<p>But if you check again after ten seconds, you’ll see that it is completed successfully:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="n">eventualInt</span>
<span class="k">val</span> <span class="nv">res2</span><span class="k">:</span> <span class="kt">scala.concurrent.Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Future</span><span class="o">(</span><span class="nc">Success</span><span class="o">(</span><span class="mi">42</span><span class="o">))</span>
</code></pre></div></div>

<p>While that’s a relatively simple example, it shows the basic approach: Just construct a new <code class="language-plaintext highlighter-rouge">Future</code> with your long-running algorithm.</p>

<p>One thing to notice is that the <code class="language-plaintext highlighter-rouge">42</code> you expected is wrapped in a <code class="language-plaintext highlighter-rouge">Success</code>, which is further wrapped in a <code class="language-plaintext highlighter-rouge">Future</code>.
This is a key concept to understand: the value in a <code class="language-plaintext highlighter-rouge">Future</code> is always an instance of one of the <code class="language-plaintext highlighter-rouge">scala.util.Try</code> types: <code class="language-plaintext highlighter-rouge">Success</code> or <code class="language-plaintext highlighter-rouge">Failure</code>.
Therefore, when you work with the result of a future, you use the usual <code class="language-plaintext highlighter-rouge">Try</code>-handling techniques.</p>

<h3 id="using-map-with-futures">Using <code class="language-plaintext highlighter-rouge">map</code> with futures</h3>

<p><code class="language-plaintext highlighter-rouge">Future</code> has a <code class="language-plaintext highlighter-rouge">map</code> method, which you use just like the <code class="language-plaintext highlighter-rouge">map</code> method on collections.
This is what the result looks like when you call <code class="language-plaintext highlighter-rouge">map</code> right after creating the variable <code class="language-plaintext highlighter-rouge">f</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="nv">a</span> <span class="k">=</span> <span class="nv">eventualInt</span><span class="o">.</span><span class="py">map</span><span class="o">(</span><span class="k">_</span> <span class="o">*</span> <span class="mi">2</span><span class="o">)</span>
<span class="n">a</span><span class="k">:</span> <span class="kt">scala.concurrent.Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Future</span><span class="o">(&lt;</span><span class="n">not</span> <span class="n">completed</span><span class="o">&gt;)</span>
</code></pre></div></div>

<p>As shown, for the future that was created with the <code class="language-plaintext highlighter-rouge">longRunningAlgorithm</code>, the initial output shows <code class="language-plaintext highlighter-rouge">Future(&lt;not completed&gt;)</code>.
But when you check <code class="language-plaintext highlighter-rouge">a</code>’s value after ten seconds you’ll see that it contains the expected result of <code class="language-plaintext highlighter-rouge">84</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">scala</span><span class="o">&gt;</span> <span class="n">a</span>
<span class="n">res1</span><span class="k">:</span> <span class="kt">scala.concurrent.Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Future</span><span class="o">(</span><span class="nc">Success</span><span class="o">(</span><span class="mi">84</span><span class="o">))</span>
</code></pre></div></div>

<p>Once again, the successful result is wrapped inside a <code class="language-plaintext highlighter-rouge">Success</code> and a <code class="language-plaintext highlighter-rouge">Future</code>.</p>

<h3 id="using-callback-methods-with-futures">Using callback methods with futures</h3>

<p>In addition to higher-order functions like <code class="language-plaintext highlighter-rouge">map</code>, you can also use callback methods with futures.
One commonly used callback method is <code class="language-plaintext highlighter-rouge">onComplete</code>, which takes a <em>partial function</em> in which you handle the <code class="language-plaintext highlighter-rouge">Success</code> and <code class="language-plaintext highlighter-rouge">Failure</code> cases:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">eventualInt</span><span class="o">.</span><span class="py">onComplete</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">Success</span><span class="o">(</span><span class="n">value</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nf">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Got the callback, value = $value"</span><span class="o">)</span>
  <span class="k">case</span> <span class="nc">Failure</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nv">e</span><span class="o">.</span><span class="py">printStackTrace</span>
<span class="o">}</span>
</code></pre></div></div>

<p>When you paste that code in the REPL you’ll eventually see the result:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Got</span> <span class="n">the</span> <span class="n">callback</span><span class="o">,</span> <span class="n">value</span> <span class="k">=</span> <span class="mi">42</span>
</code></pre></div></div>

<h2 id="other-future-methods">Other Future methods</h2>

<p>The <code class="language-plaintext highlighter-rouge">Future</code> class has other methods you can use.
It has some of the methods that you find on Scala collections classes, including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">filter</code></li>
  <li><code class="language-plaintext highlighter-rouge">flatMap</code></li>
  <li><code class="language-plaintext highlighter-rouge">map</code></li>
</ul>

<p>Its callback methods are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">onComplete</code></li>
  <li><code class="language-plaintext highlighter-rouge">andThen</code></li>
  <li><code class="language-plaintext highlighter-rouge">foreach</code></li>
</ul>

<p>Other transformation methods include:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">fallbackTo</code></li>
  <li><code class="language-plaintext highlighter-rouge">recover</code></li>
  <li><code class="language-plaintext highlighter-rouge">recoverWith</code></li>
</ul>

<p>See the <a href="/overviews/core/futures.html">Futures and Promises</a> page for a discussion of additional methods available to futures.</p>

<h2 id="running-multiple-futures-and-joining-their-results">Running multiple futures and joining their results</h2>

<p>To run multiple computations in parallel and join their results when all of the futures have been completed, use a <code class="language-plaintext highlighter-rouge">for</code> expression.</p>

<p>The correct approach is:</p>

<ol>
  <li>Start the computations that return <code class="language-plaintext highlighter-rouge">Future</code> results</li>
  <li>Merge their results in a <code class="language-plaintext highlighter-rouge">for</code> expression</li>
  <li>Extract the merged result using <code class="language-plaintext highlighter-rouge">onComplete</code> or a similar technique</li>
</ol>

<h3 id="an-example">An example</h3>

<p>The three steps of the correct approach are shown in the following example.
A key is that you first start the computations that return futures, and then join them in the <code class="language-plaintext highlighter-rouge">for</code> expression:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.concurrent.Future</span>
<span class="k">import</span> <span class="nn">scala.concurrent.ExecutionContext.Implicits.global</span>
<span class="k">import</span> <span class="nn">scala.util.</span><span class="o">{</span><span class="nc">Failure</span><span class="o">,</span> <span class="nc">Success</span><span class="o">}</span>

<span class="k">val</span> <span class="nv">startTime</span> <span class="k">=</span> <span class="nv">System</span><span class="o">.</span><span class="py">currentTimeMillis</span><span class="o">()</span>
<span class="k">def</span> <span class="nf">delta</span><span class="o">()</span> <span class="k">=</span> <span class="nv">System</span><span class="o">.</span><span class="py">currentTimeMillis</span><span class="o">()</span> <span class="o">-</span> <span class="n">startTime</span>
<span class="k">def</span> <span class="nf">sleep</span><span class="o">(</span><span class="n">millis</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span> <span class="k">=</span> <span class="nv">Thread</span><span class="o">.</span><span class="py">sleep</span><span class="o">(</span><span class="n">millis</span><span class="o">)</span>

<span class="nd">@main</span> <span class="k">def</span> <span class="nf">multipleFutures1</span> <span class="k">=</span>

  <span class="nf">println</span><span class="o">(</span><span class="n">s</span><span class="s">"creating the futures:   ${delta()}"</span><span class="o">)</span>

  <span class="c1">// (1) start the computations that return futures</span>
  <span class="k">val</span> <span class="nv">f1</span> <span class="k">=</span> <span class="nc">Future</span> <span class="o">{</span> <span class="nf">sleep</span><span class="o">(</span><span class="mi">800</span><span class="o">);</span> <span class="mi">1</span> <span class="o">}</span>   <span class="c1">// eventually returns 1</span>
  <span class="k">val</span> <span class="nv">f2</span> <span class="k">=</span> <span class="nc">Future</span> <span class="o">{</span> <span class="nf">sleep</span><span class="o">(</span><span class="mi">200</span><span class="o">);</span> <span class="mi">2</span> <span class="o">}</span>   <span class="c1">// eventually returns 2</span>
  <span class="k">val</span> <span class="nv">f3</span> <span class="k">=</span> <span class="nc">Future</span> <span class="o">{</span> <span class="nf">sleep</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span> <span class="mi">3</span> <span class="o">}</span>   <span class="c1">// eventually returns 3</span>

  <span class="c1">// (2) join the futures in a `for` expression</span>
  <span class="k">val</span> <span class="nv">result</span> <span class="k">=</span>
    <span class="k">for</span>
      <span class="n">r1</span> <span class="k">&lt;-</span> <span class="n">f1</span>
      <span class="n">r2</span> <span class="k">&lt;-</span> <span class="n">f2</span>
      <span class="n">r3</span> <span class="k">&lt;-</span> <span class="n">f3</span>
    <span class="k">yield</span>
      <span class="nf">println</span><span class="o">(</span><span class="n">s</span><span class="s">"in the 'yield': ${delta()}"</span><span class="o">)</span>
      <span class="o">(</span><span class="n">r1</span> <span class="o">+</span> <span class="n">r2</span> <span class="o">+</span> <span class="n">r3</span><span class="o">)</span>

  <span class="c1">// (3) process the result</span>
  <span class="nv">result</span><span class="o">.</span><span class="py">onComplete</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">Success</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span>
      <span class="nf">println</span><span class="o">(</span><span class="n">s</span><span class="s">"in the Success case: ${delta()}"</span><span class="o">)</span>
      <span class="nf">println</span><span class="o">(</span><span class="n">s</span><span class="s">"result = $x"</span><span class="o">)</span>
    <span class="k">case</span> <span class="nc">Failure</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">=&gt;</span>
      <span class="nv">e</span><span class="o">.</span><span class="py">printStackTrace</span>
  <span class="o">}</span>

  <span class="nf">println</span><span class="o">(</span><span class="n">s</span><span class="s">"before the 'sleep(3000)': ${delta()}"</span><span class="o">)</span>

  <span class="c1">// important for a little parallel demo: keep the jvm alive</span>
  <span class="nf">sleep</span><span class="o">(</span><span class="mi">3000</span><span class="o">)</span>
</code></pre></div></div>

<p>When you run that application, you see output that looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>creating the futures:   1
before the 'sleep(3000)': 2
in the 'yield': 806
in the Success case: 806
result = 6
</code></pre></div></div>

<p>As that output shows, the futures are created very rapidly, and in just two milliseconds the print statement right before the <code class="language-plaintext highlighter-rouge">sleep(3000)</code> statement at the end of the method is reached.
All of that code is run on the JVM’s main thread.
Then, at 806 ms, the three futures complete and the code in the <code class="language-plaintext highlighter-rouge">yield</code> block is run.
Then the code immediately goes to the <code class="language-plaintext highlighter-rouge">Success</code> case in the <code class="language-plaintext highlighter-rouge">onComplete</code> method.</p>

<p>The 806 ms output is a key to seeing that the three computations are run in parallel.
If they were run sequentially, the total time would be about 1,400 ms—the sum of the sleep times of the three computations.
But because they’re run in parallel, the total time is just slightly longer than the longest-running computation: <code class="language-plaintext highlighter-rouge">f1</code>, which is 800 ms.</p>

<blockquote>
  <p>Notice that if the computations were run within the <code class="language-plaintext highlighter-rouge">for</code> expression, they
would be executed sequentially, not in parallel:</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Sequential execution (no parallelism!)
for
  r1 &lt;- Future { sleep(800); 1 }
  r2 &lt;- Future { sleep(200); 2 }
  r3 &lt;- Future { sleep(400); 3 }
yield
  r1 + r2 + r3
</code></pre></div>  </div>
  <p>So, if you want the computations to be possibly run in parallel, remember
to run them outside of the <code class="language-plaintext highlighter-rouge">for</code> expression.</p>
</blockquote>

<h3 id="a-method-that-returns-a-future">A method that returns a future</h3>

<p>So far you’ve seen how to pass a single-threaded algorithm into a <code class="language-plaintext highlighter-rouge">Future</code> constructor.
You can use the same technique to create a method that returns a <code class="language-plaintext highlighter-rouge">Future</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// simulate a slow-running method</span>
<span class="k">def</span> <span class="nf">slowlyDouble</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">delay</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Future</span> <span class="o">{</span>
  <span class="nf">sleep</span><span class="o">(</span><span class="n">delay</span><span class="o">)</span>
  <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<span class="o">}</span>
</code></pre></div></div>

<p>As with the previous examples, just assign the result of the method call to a new variable.
Then when you check the result right away you’ll see that it’s not completed, but after the delay time the future will have a result:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scala&gt; val f = slowlyDouble(2, 5_000L)
val f: concurrent.Future[Int] = Future(&lt;not completed&gt;)

scala&gt; f
val res0: concurrent.Future[Int] = Future(&lt;not completed&gt;)

scala&gt; f
val res1: concurrent.Future[Int] = Future(Success(4))
</code></pre></div></div>

<h2 id="key-points-about-futures">Key points about futures</h2>

<p>Hopefully those examples give you an idea of how Scala futures work.
To summarize, a few key points about futures are:</p>

<ul>
  <li>You construct futures to run tasks off of the main thread</li>
  <li>Futures are intended for one-shot, potentially long-running concurrent tasks that <em>eventually</em> return a value; they create a temporary pocket of concurrency</li>
  <li>A future starts running as soon as you construct it</li>
  <li>A benefit of futures over threads is that they work with <code class="language-plaintext highlighter-rouge">for</code> expressions, and come with a variety of callback methods that simplify the process of working with concurrent threads</li>
  <li>When you work with futures you don’t have to concern yourself with the low-level details of thread management</li>
  <li>You handle the result of a future with callback methods like <code class="language-plaintext highlighter-rouge">onComplete</code> and <code class="language-plaintext highlighter-rouge">andThen</code>, or transformation methods like <code class="language-plaintext highlighter-rouge">filter</code>, <code class="language-plaintext highlighter-rouge">map</code>, etc.</li>
  <li>The value inside a <code class="language-plaintext highlighter-rouge">Future</code> is always an instance of one of the <code class="language-plaintext highlighter-rouge">Try</code> types: <code class="language-plaintext highlighter-rouge">Success</code> or <code class="language-plaintext highlighter-rouge">Failure</code></li>
  <li>If you’re using multiple futures to yield a single result, combine them in a <code class="language-plaintext highlighter-rouge">for</code> expression</li>
</ul>

<p>Also, as you saw with the <code class="language-plaintext highlighter-rouge">import</code> statements in these examples, the Scala <code class="language-plaintext highlighter-rouge">Future</code> depends on an <code class="language-plaintext highlighter-rouge">ExecutionContext</code>.</p>

<p>For more details about futures, see <a href="/overviews/core/futures.html">Futures and Promises</a>, an article that discusses futures, promises, and execution contexts.
It also provides a discussion of how a <code class="language-plaintext highlighter-rouge">for</code> expression is translated into a <code class="language-plaintext highlighter-rouge">flatMap</code> operation.</p>


				</div>

				<div class="two-columns">
					
					<a href="ca-summary.html">&larr; <strong>previous</strong></a>
					
					
					<a href="scala-tools.html"><strong>next</strong> &rarr;</a>
					
				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
        
        
          <div class="inner-toc book" id="sidebar-toc">
        

      <ul>
        
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/introduction.html">Introduction</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/scala-features.html">Scala 3 Features</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/why-scala-3.html">Why Scala 3?</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/taste-intro.html">A Taste of Scala</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-hello-world.html">Hello, World!</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-repl.html">The REPL</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-vars-data-types.html">Variables and Data Types</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-control-structures.html">Control Structures</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-modeling.html">Domain Modeling</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-methods.html">Methods</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-functions.html">First-Class Functions</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-objects.html">Singleton Objects</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-collections.html">Collections</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-contextual-abstractions.html">Contextual Abstractions</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-toplevel-definitions.html">Toplevel Definitions</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/taste-summary.html">Summary</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/first-look-at-types.html">A First Look at Types</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/control-structures.html">Control Structures</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/domain-modeling-intro.html">Domain Modeling</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/domain-modeling-tools.html">Tools</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/domain-modeling-oop.html">OOP Modeling</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/domain-modeling-fp.html">FP Modeling</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/methods-intro.html">Methods</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/methods-most.html">Method Features</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/methods-main-methods.html">main Methods</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/methods-summary.html">Summary</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/fun-intro.html">Functions</a></li>
              
            
          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-anonymous-functions.html">Anonymous Functions</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-function-variables.html">Function Variables</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-eta-expansion.html">Eta Expansion</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-hofs.html">Higher-Order Functions</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-write-map-function.html">Write Your Own map Method</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-write-method-returns-function.html">Creating a Method That Returns a Function</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fun-summary.html">Summary</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/packaging-imports.html">Packaging and Imports</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/collections-intro.html">Scala Collections</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/collections-classes.html">Collections Types</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/collections-methods.html">Collections Methods</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/collections-summary.html">Summary</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/fp-intro.html">Functional Programming</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fp-what-is-fp.html">What is Functional Programming?</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fp-immutable-values.html">Immutable Values</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fp-pure-functions.html">Pure Functions</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fp-functions-are-values.html">Functions Are Values</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fp-functional-error-handling.html">Functional Error Handling</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/fp-summary.html">Summary</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/types-introduction.html">Types and the Type System</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-inferred.html">Inferred Types</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-generics.html">Generics</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-intersection.html">Intersection Types</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-union.html">Union Types</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-adts-gadts.html">Algebraic Data Types</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-variance.html">Variance</a></li>
              
            
          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-opaque-types.html">Opaque Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-structural.html">Structural Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-dependent-function.html">Dependent Function Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-others.html">Other Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/ca-contextual-abstractions-intro.html">Contextual Abstractions</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-given-using-clauses.html">Given Instances and Using Clauses</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/types-type-classes.html">Type Classes</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-context-bounds.html">Context Bounds</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-given-imports.html">Given Imports</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-extension-methods.html">Extension Methods</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-type-classes.html">Implementing Type Classes</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-multiversal-equality.html">Multiversal Equality</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-implicit-conversions.html">Implicit Conversions</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/ca-summary.html">Summary</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a class="active" href="docs.scala-lang//scala3/book/concurrency.html">Concurrency</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/scala-tools.html">Scala Tools</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/tools-sbt.html">Building and Testing Scala Projects with sbt</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="docs.scala-lang//scala3/book/tools-worksheets.html">Worksheets</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/interacting-with-java.html">Interacting with Java</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/scala-for-java-devs.html">Scala for Java Developers</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/scala-for-javascript-devs.html">Scala for JavaScript Developers</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="docs.scala-lang//scala3/book/scala-for-python-devs.html">Scala for Python Developers</a>
						<div id="toc"></div>
						</li>
              
            
          
        
      </ul>

      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/main/_overviews/scala3-book/concurrency.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="docs.scala-lang//getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="docs.scala-lang//overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.13/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="docs.scala-lang//resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="docs.scala-lang//scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="docs.scala-lang//resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>



<script src="docs.scala-lang//scripts/searchbar.js" type="text/javascript"></script>
<link rel="stylesheet" href="docs.scala-lang//scripts/my.css" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">

<!-- moment js -->
<script src="docs.scala-lang//resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="docs.scala-lang//resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="docs.scala-lang//resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="docs.scala-lang//resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="docs.scala-lang//resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="docs.scala-lang//resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="docs.scala-lang//resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="docs.scala-lang//resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="docs.scala-lang//resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom JavaScript -->
<script src="docs.scala-lang//resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
if ($("#doc-search-bar").length) {
  docsearch({
    apiKey: 'fbc439670f5d4e3730cdcb715c359391',
    indexName: 'scala-lang',
    inputSelector: '#doc-search-bar',
    algoliaOptions: { 'facetFilters': ["language:en"] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
}
</script>
</body>

</html>

