<!DOCTYPE html>

<html class="scala3">

  <head>
    <title>
      Numeric Literals | 
      Scala 3 Language Reference | 
      Scala Documentation
    </title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:site_name" content="Scala Documentation"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://0.0.0.0:4000/scala3/reference/changed-features/numeric-literals.html"/>
    <meta property="og:image" content="http://0.0.0.0:4000/resources/img/scala-spiral-3d-2-toned-down.png"/>
    <meta property="og:title" content="Numeric Literals"/>
    

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@scala_lang"/>
    <meta name="twitter:creator" content="@scala_lang"/>
    <meta name="twitter:title" content="Numeric Literals"/>
    

    <link rel="icon" type="image/png" href="resources/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="resources/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="resources/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="resources/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="resources/favicon-16x16.png">
    <link rel="manifest" href="resources/site.webmanifest">
    <link rel="mask-icon" href="resources/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#15a9ce">
    <meta name="theme-color" content="#ffffff">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Custom stylesheet -->
    <link href="resources/css/unslider-dots.css" rel="stylesheet" type="text/css">
    <link href="resources/css/unslider.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="resources/css/highlightjs.css" type="text/css" />
    <link rel="stylesheet" href="resources/css/style.css" type="text/css" />
    <link rel="stylesheet" href="resources/css/monospace.css" type="text/css" />

    <!-- Atom feeds -->
    <link rel="alternate" type="application/atom+xml" title="News Feed" href="http://scala-lang.org/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Blog Feed" href="http://scala-lang.org/feed/blog.xml" />

    <!-- Algolia stylesheet -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />


  </head>
  <body>





<div class="navigation-fade-screen"></div>



<header id="site-header">
  <div class="wrap">
    <nav class="navigation" role="menu">
      <a href="http://scala-lang.org" class="navigation-bdand">
        <img src="resources/img/frontpage/scala-logo-white@2x.png" alt="">
      </a>
      <div class="navigation-panel-button">
        <i class="fa fa-bars"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              <a href="/" class="active">Documentation</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/download/" >Download</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/community/" >Community</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://index.scala-lang.org" >Libraries</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/contribute/" >Contribute</a>
            </li>
        
            <li class="navigation-menu-item">
              <a href="https://www.scala-lang.org/blog/" >Blog</a>
            </li>
        
      </ul>
    </nav>
  </div>
</header>



<header id="doc-header" class="scala3">

  <div class="wrap" style="padding: 0px;">
    <nav class="doc-navigation" role="menu">
      
      <div class="navigation-bdand">
      <a href="">
        <img src="resources/img/documentation-logo@2x.png" alt="docs">
      </a>
      <span class="doc-language-version">
        — Scala  3 
      </span>
      </div>
      <div class="navigation-ellipsis">
        <i class="fa fa-ellipsis-v"></i>
      </div>
      <ul class="navigation-menu">
        
            <li class="navigation-menu-item">
              
              
              <a href="#" id="learn" >Learn</a>
                
                <ul class="navigation-dropdown">
                
                  <li>
                    
                    
                    <a href="/scala3/new-in-scala3.html">New in Scala 3</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/scala3/getting-started.html">Getting Started</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/scala3/book/introduction.html">Scala 3 Book</a>
                  </li>
                
                  <li>
                    
                    
                    <a href="/scala3/guides/macros/index.html">Macro Tutorial</a>
                  </li>
                
                </ul>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/scala3/guides/migration/compatibility-intro.html" id="migrate" >Migrate</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="/scala3/reference/overview.html" id="reference" >Reference</a>
                
            </li>
        
            <li class="navigation-menu-item">
              
              
              <a href="https://dotty.epfl.ch/api/index.html" id="api" >API</a>
                
            </li>
        
      </ul>
    </nav>
    <nav class="doc-navigation-submenus">
      
        
          <ul class="navigation-submenu" id="learn" style="display: none;">
            
              <li>
                <a href="/scala3/new-in-scala3.html">New in Scala 3</a>
              </li>
            
              <li>
                <a href="/scala3/getting-started.html">Getting Started</a>
              </li>
            
              <li>
                <a href="/scala3/book/introduction.html">Scala 3 Book</a>
              </li>
            
              <li>
                <a href="/scala3/guides/macros/index.html">Macro Tutorial</a>
              </li>
            
          </ul>
        
      
        
      
        
      
        
      
      <ul class="navigation-submenu ellipsis-menu" style="display: none;">
        
          
        
          
        
          
        
          
            <li><a href="https://dotty.epfl.ch/api/index.html">API</a></li>
          
        
      </ul>
    </nav>
  </div>
</header>


<main id="inner-main">
  <!-- Title -->
  <section class="title-page">
    <div class="wrap">
      <div class="content-title-documentation">
        
          <div class="wip-notice">
            <h4>Work in Progress</h4>
            <p>
              We are still in the process of writing the documentation for Scala 3.
              You can <a  href="/scala3/contribute-to-docs.html">help us</a> to improve the documentation.
            </p>
            <p>Are you searching for the <a href="/">Scala 2 documentation</a>?</p>
          </div>
        

        <div class="titles">
          
            <div class="supertitle">Scala 3 Language Reference</div>
          
          <h1>Numeric Literals</h1>
        </div>
        <div class="language-dropdown">
          <div id="dd" class="wrapper-dropdown" tabindex="1">
            <span>Language</span>
              <ul class="dropdown"></ul>
          </div>
      </div>
    </div>
  </section>

  
  <section class="content">
	<div class="wrap">
		<div class="content-primary documentation">
			<div class="inner-box">
				<div class="toc-context">
					<p><strong>Note</strong>: This feature is not yet part of the Scala 3 language definition. It can be made available by a language import:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">scala.language.experimental.genericNumberLiterals</span>
</code></pre></div></div>

<p>In Scala 2, numeric literals were confined to the primitive numeric types <code class="language-plaintext highlighter-rouge">Int</code>, <code class="language-plaintext highlighter-rouge">Long</code>, <code class="language-plaintext highlighter-rouge">Float</code>, and <code class="language-plaintext highlighter-rouge">Double</code>. Scala 3 allows to write numeric literals also for user-defined types. Example:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">x</span><span class="k">:</span> <span class="kt">Long</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="n">_000_000_000</span>
<span class="k">val</span> <span class="nv">y</span><span class="k">:</span> <span class="kt">BigInt</span> <span class="o">=</span> <span class="mh">0x123</span><span class="nc">_abc_789_def_345_678_901</span>
<span class="k">val</span> <span class="nv">z</span><span class="k">:</span> <span class="kt">BigDecimal</span> <span class="o">=</span> <span class="mi">110</span><span class="n">_222_799_799</span><span class="o">.</span><span class="mi">99</span>

<span class="o">(</span><span class="n">y</span><span class="k">:</span> <span class="kt">BigInt</span><span class="o">)</span> <span class="k">match</span>
  <span class="k">case</span> <span class="mi">123</span><span class="n">_456_789_012_345_678_901</span> <span class="k">=&gt;</span>
</code></pre></div></div>

<p>The syntax of numeric literals is the same as before, except there are no pre-set limits
how large they can be.</p>

<h3 id="meaning-of-numeric-literals">Meaning of Numeric Literals</h3>

<p>The meaning of a numeric literal is determined as follows:</p>

<ul>
  <li>If the literal ends with <code class="language-plaintext highlighter-rouge">l</code> or <code class="language-plaintext highlighter-rouge">L</code>, it is a <code class="language-plaintext highlighter-rouge">Long</code> integer (and must fit in its legal range).</li>
  <li>If the literal ends with <code class="language-plaintext highlighter-rouge">f</code> or <code class="language-plaintext highlighter-rouge">F</code>, it is a single precision floating point number of type <code class="language-plaintext highlighter-rouge">Float</code>.</li>
  <li>If the literal ends with <code class="language-plaintext highlighter-rouge">d</code> or <code class="language-plaintext highlighter-rouge">D</code>, it is a double precision floating point number of type <code class="language-plaintext highlighter-rouge">Double</code>.</li>
</ul>

<p>In each of these cases the conversion to a number is exactly as in Scala 2 or in Java. If a numeric literal does <em>not</em> end in one of these suffixes, its meaning is determined by the expected type:</p>

<ol>
  <li>If the expected type is <code class="language-plaintext highlighter-rouge">Int</code>, <code class="language-plaintext highlighter-rouge">Long</code>, <code class="language-plaintext highlighter-rouge">Float</code>, or <code class="language-plaintext highlighter-rouge">Double</code>, the literal is
treated as a standard literal of that type.</li>
  <li>If the expected type is a fully defined type <code class="language-plaintext highlighter-rouge">T</code> that has a given instance of type
<code class="language-plaintext highlighter-rouge">scala.util.FromDigits[T]</code>, the literal is converted to a value of type <code class="language-plaintext highlighter-rouge">T</code> by passing it as an argument to
the <code class="language-plaintext highlighter-rouge">fromDigits</code> method of that instance (more details below).</li>
  <li>Otherwise, the literal is treated as a <code class="language-plaintext highlighter-rouge">Double</code> literal (if it has a decimal point or an
exponent), or as an <code class="language-plaintext highlighter-rouge">Int</code> literal (if not). (This last possibility is again as in Scala 2 or Java.)</li>
</ol>

<p>With these rules, the definition</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">x</span><span class="k">:</span> <span class="kt">Long</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="n">_000_000_000</span>
</code></pre></div></div>

<p>is legal by rule (1), since the expected type is <code class="language-plaintext highlighter-rouge">Long</code>. The definitions</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">y</span><span class="k">:</span> <span class="kt">BigInt</span> <span class="o">=</span> <span class="mh">0x123</span><span class="nc">_abc_789_def_345_678_901</span>
<span class="k">val</span> <span class="nv">z</span><span class="k">:</span> <span class="kt">BigDecimal</span> <span class="o">=</span> <span class="mf">111222333444.55</span>
</code></pre></div></div>

<p>are legal by rule (2), since both <code class="language-plaintext highlighter-rouge">BigInt</code> and <code class="language-plaintext highlighter-rouge">BigDecimal</code> have <code class="language-plaintext highlighter-rouge">FromDigits</code> instances
(which implement the <code class="language-plaintext highlighter-rouge">FromDigits</code> subclasses <code class="language-plaintext highlighter-rouge">FromDigits.WithRadix</code> and <code class="language-plaintext highlighter-rouge">FromDigits.Decimal</code>, respectively).
On the other hand,</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">x</span> <span class="k">=</span> <span class="o">-</span><span class="mi">10</span><span class="n">_000_000_000</span>
</code></pre></div></div>

<p>gives a type error, since without an expected type <code class="language-plaintext highlighter-rouge">-10_000_000_000</code> is treated by rule (3) as an <code class="language-plaintext highlighter-rouge">Int</code> literal, but it is too large for that type.</p>

<h3 id="the-fromdigits-trait">The FromDigits Trait</h3>

<p>To allow numeric literals, a type simply has to define a <code class="language-plaintext highlighter-rouge">given</code> instance of the
<code class="language-plaintext highlighter-rouge">scala.util.FromDigits</code> type class, or one of its subclasses. <code class="language-plaintext highlighter-rouge">FromDigits</code> is defined
as follows:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">FromDigits</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span><span class="nc">:</span>
  <span class="k">def</span> <span class="nf">fromDigits</span><span class="o">(</span><span class="n">digits</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">T</span>
</code></pre></div></div>

<p>Implementations of the <code class="language-plaintext highlighter-rouge">fromDigits</code> convert strings of digits to the values of the
implementation type <code class="language-plaintext highlighter-rouge">T</code>.
The <code class="language-plaintext highlighter-rouge">digits</code> string consists of digits between <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">9</code>, possibly preceded by a
sign (“+” or “-“). Number separator characters <code class="language-plaintext highlighter-rouge">_</code> are filtered out before
the string is passed to <code class="language-plaintext highlighter-rouge">fromDigits</code>.</p>

<p>The companion object <code class="language-plaintext highlighter-rouge">FromDigits</code> also defines subclasses of <code class="language-plaintext highlighter-rouge">FromDigits</code> for
whole numbers with a given radix, for numbers with a decimal point, and for
numbers that can have both a decimal point and an exponent:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">object</span> <span class="nc">FromDigits</span><span class="k">:</span>

  <span class="kt">/**</span> <span class="kt">A</span> <span class="kt">subclass</span> <span class="kt">of</span> <span class="kt">`FromDigits`</span> <span class="kt">that</span> <span class="kt">also</span> <span class="kt">allows</span> <span class="kt">to</span> <span class="kt">convert</span> <span class="kt">whole</span>
   <span class="o">*</span>  <span class="n">number</span> <span class="n">literals</span> <span class="k">with</span> <span class="n">a</span> <span class="n">radix</span> <span class="n">other</span> <span class="n">than</span> <span class="mi">10</span>
   <span class="o">*/</span>
  <span class="k">trait</span> <span class="nc">WithRadix</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span> <span class="nc">extends</span> <span class="nc">FromDigits</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span><span class="k">:</span>
    <span class="kt">def</span> <span class="kt">fromDigits</span><span class="o">(</span><span class="kt">digits:</span> <span class="kt">String</span><span class="o">)</span><span class="kt">:</span> <span class="kt">T</span> <span class="o">=</span> <span class="nf">fromDigits</span><span class="o">(</span><span class="n">digits</span><span class="o">,</span> <span class="mi">10</span><span class="o">)</span>
    <span class="k">def</span> <span class="nf">fromDigits</span><span class="o">(</span><span class="n">digits</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">radix</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">T</span>

  <span class="cm">/** A subclass of `FromDigits` that also allows to convert number
   *  literals containing a decimal point ".".
   */</span>
  <span class="k">trait</span> <span class="nc">Decimal</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span> <span class="nc">extends</span> <span class="nc">FromDigits</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span>

  <span class="cm">/** A subclass of `FromDigits`that allows also to convert number
   *  literals containing a decimal point "." or an
   *  exponent `('e' | 'E')['+' | '-']digit digit*`.
   */</span>
  <span class="k">trait</span> <span class="nc">Floating</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span> <span class="nc">extends</span> <span class="nc">Decimal</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span>
</code></pre></div></div>

<p>A user-defined number type can implement one of those, which signals to the compiler
that hexadecimal numbers, decimal points, or exponents are also accepted in literals
for this type.</p>

<h3 id="error-handling">Error Handling</h3>

<p><code class="language-plaintext highlighter-rouge">FromDigits</code> implementations can signal errors by throwing exceptions of some subtype
of <code class="language-plaintext highlighter-rouge">FromDigitsException</code>. <code class="language-plaintext highlighter-rouge">FromDigitsException</code> is defined with three subclasses in the
<code class="language-plaintext highlighter-rouge">FromDigits</code> object as follows:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">abstract</span> <span class="k">class</span> <span class="nc">FromDigitsException</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">NumberFormatException</span><span class="o">(</span><span class="n">msg</span><span class="o">)</span>

<span class="k">class</span> <span class="nc">NumberTooLarge</span> <span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"number too large"</span><span class="o">)</span>         <span class="k">extends</span> <span class="nc">FromDigitsException</span><span class="o">(</span><span class="n">msg</span><span class="o">)</span>
<span class="k">class</span> <span class="nc">NumberTooSmall</span> <span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"number too small"</span><span class="o">)</span>         <span class="k">extends</span> <span class="nc">FromDigitsException</span><span class="o">(</span><span class="n">msg</span><span class="o">)</span>
<span class="k">class</span> <span class="nc">MalformedNumber</span><span class="o">(</span><span class="n">msg</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"malformed number literal"</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">FromDigitsException</span><span class="o">(</span><span class="n">msg</span><span class="o">)</span>
</code></pre></div></div>

<h3 id="example">Example</h3>

<p>As a fully worked out example, here is an implementation of a new numeric class, <code class="language-plaintext highlighter-rouge">BigFloat</code>, that accepts numeric literals. <code class="language-plaintext highlighter-rouge">BigFloat</code> is defined in terms of a <code class="language-plaintext highlighter-rouge">BigInt</code> mantissa and an <code class="language-plaintext highlighter-rouge">Int</code> exponent:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="k">class</span> <span class="nc">BigFloat</span><span class="o">(</span><span class="n">mantissa</span><span class="k">:</span> <span class="kt">BigInt</span><span class="o">,</span> <span class="n">exponent</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span>
  <span class="kt">override</span> <span class="kt">def</span> <span class="kt">toString</span> <span class="o">=</span> <span class="n">s</span><span class="s">"${mantissa}e${exponent}"</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">BigFloat</code> literals can have a decimal point as well as an exponent. E.g. the following expression
should produce the <code class="language-plaintext highlighter-rouge">BigFloat</code> number <code class="language-plaintext highlighter-rouge">BigFloat(-123, 997)</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">-</span><span class="mf">0.123E+1000</span><span class="k">:</span> <span class="kt">BigFloat</span>
</code></pre></div></div>

<p>The companion object of <code class="language-plaintext highlighter-rouge">BigFloat</code> defines an <code class="language-plaintext highlighter-rouge">apply</code> constructor method to construct a <code class="language-plaintext highlighter-rouge">BigFloat</code>
from a <code class="language-plaintext highlighter-rouge">digits</code> string. Here is a possible implementation:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">object</span> <span class="nc">BigFloat</span><span class="k">:</span>
  <span class="kt">import</span> <span class="kt">scala.util.FromDigits</span>

  <span class="k">def</span> <span class="nf">apply</span><span class="o">(</span><span class="n">digits</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">BigFloat</span> <span class="o">=</span>
    <span class="nf">val</span> <span class="o">(</span><span class="n">mantissaDigits</span><span class="o">,</span> <span class="n">givenExponent</span><span class="o">)</span> <span class="k">=</span>
      <span class="nv">digits</span><span class="o">.</span><span class="py">toUpperCase</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="sc">'E'</span><span class="o">)</span> <span class="k">match</span>
        <span class="k">case</span> <span class="nc">Array</span><span class="o">(</span><span class="n">mantissaDigits</span><span class="o">,</span> <span class="n">edigits</span><span class="o">)</span> <span class="k">=&gt;</span>
          <span class="k">val</span> <span class="nv">expo</span> <span class="k">=</span>
            <span class="k">try</span> <span class="nv">FromDigits</span><span class="o">.</span><span class="py">intFromDigits</span><span class="o">(</span><span class="n">edigits</span><span class="o">)</span>
            <span class="k">catch</span> <span class="k">case</span> <span class="n">ex</span><span class="k">:</span> <span class="kt">FromDigits.NumberTooLarge</span> <span class="o">=&gt;</span>
              <span class="k">throw</span> <span class="nv">FromDigits</span><span class="o">.</span><span class="py">NumberTooLarge</span><span class="o">(</span><span class="n">s</span><span class="s">"exponent too large: $edigits"</span><span class="o">)</span>
          <span class="o">(</span><span class="n">mantissaDigits</span><span class="o">,</span> <span class="n">expo</span><span class="o">)</span>
        <span class="k">case</span> <span class="nc">Array</span><span class="o">(</span><span class="n">mantissaDigits</span><span class="o">)</span> <span class="k">=&gt;</span>
          <span class="o">(</span><span class="n">mantissaDigits</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
    <span class="nf">val</span> <span class="o">(</span><span class="n">intPart</span><span class="o">,</span> <span class="n">exponent</span><span class="o">)</span> <span class="k">=</span>
      <span class="nv">mantissaDigits</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="sc">'.'</span><span class="o">)</span> <span class="k">match</span>
        <span class="k">case</span> <span class="nc">Array</span><span class="o">(</span><span class="n">intPart</span><span class="o">,</span> <span class="n">decimalPart</span><span class="o">)</span> <span class="k">=&gt;</span>
          <span class="o">(</span><span class="n">intPart</span> <span class="o">++</span> <span class="n">decimalPart</span><span class="o">,</span> <span class="n">givenExponent</span> <span class="o">-</span> <span class="nv">decimalPart</span><span class="o">.</span><span class="py">length</span><span class="o">)</span>
        <span class="k">case</span> <span class="nc">Array</span><span class="o">(</span><span class="n">intPart</span><span class="o">)</span> <span class="k">=&gt;</span>
          <span class="o">(</span><span class="n">intPart</span><span class="o">,</span> <span class="n">givenExponent</span><span class="o">)</span>
    <span class="nc">BigFloat</span><span class="o">(</span><span class="nc">BigInt</span><span class="o">(</span><span class="n">intPart</span><span class="o">),</span> <span class="n">exponent</span><span class="o">)</span>
</code></pre></div></div>

<p>To accept <code class="language-plaintext highlighter-rouge">BigFloat</code> literals, all that’s needed in addition is a <code class="language-plaintext highlighter-rouge">given</code> instance of type
<code class="language-plaintext highlighter-rouge">FromDigits.Floating[BigFloat]</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">given</span> <span class="nc">FromDigits</span><span class="k">:</span> <span class="kt">FromDigits.Floating</span><span class="o">[</span><span class="kt">BigFloat</span><span class="o">]</span> <span class="k">with</span>
    <span class="k">def</span> <span class="nf">fromDigits</span><span class="o">(</span><span class="n">digits</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="nf">apply</span><span class="o">(</span><span class="n">digits</span><span class="o">)</span>
<span class="n">end</span> <span class="nc">BigFloat</span>
</code></pre></div></div>

<p>Note that the <code class="language-plaintext highlighter-rouge">apply</code> method does not check the format of the <code class="language-plaintext highlighter-rouge">digits</code> argument. It is
assumed that only valid arguments are passed. For calls coming from the compiler
that assumption is valid, since the compiler will first check whether a numeric
literal has the correct format before it gets passed on to a conversion method.</p>

<h3 id="compile-time-errors">Compile-Time Errors</h3>

<p>With the setup of the previous section, a literal like</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span><span class="n">e10_0000_000_000</span><span class="k">:</span> <span class="kt">BigFloat</span>
</code></pre></div></div>

<p>would be expanded by the compiler to</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">BigFloat</span><span class="o">.</span><span class="py">FromDigits</span><span class="o">.</span><span class="py">fromDigits</span><span class="o">(</span><span class="s">"1e100000000000"</span><span class="o">)</span>
</code></pre></div></div>

<p>Evaluating this expression throws a <code class="language-plaintext highlighter-rouge">NumberTooLarge</code> exception at run time. We would like it to
produce a compile-time error instead. We can achieve this by tweaking the <code class="language-plaintext highlighter-rouge">BigFloat</code> class
with a small dose of metaprogramming. The idea is to turn the <code class="language-plaintext highlighter-rouge">fromDigits</code> method
into a macro, i.e. make it an inline method with a splice as right-hand side.
To do this, replace the <code class="language-plaintext highlighter-rouge">FromDigits</code> instance in the <code class="language-plaintext highlighter-rouge">BigFloat</code> object by the following two definitions:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">object</span> <span class="nc">BigFloat</span><span class="k">:</span>
  <span class="kt">...</span>

  <span class="kt">class</span> <span class="kt">FromDigits</span> <span class="kt">extends</span> <span class="kt">FromDigits.Floating</span><span class="o">[</span><span class="kt">BigFloat</span><span class="o">]</span><span class="k">:</span>
    <span class="kt">def</span> <span class="kt">fromDigits</span><span class="o">(</span><span class="kt">digits:</span> <span class="kt">String</span><span class="o">)</span> <span class="o">=</span> <span class="nf">apply</span><span class="o">(</span><span class="n">digits</span><span class="o">)</span>

  <span class="n">given</span> <span class="nc">FromDigits</span> <span class="k">with</span>
    <span class="k">override</span> <span class="n">inline</span> <span class="k">def</span> <span class="nf">fromDigits</span><span class="o">(</span><span class="n">digits</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="n">$</span><span class="o">{</span>
      <span class="nf">fromDigitsImpl</span><span class="o">(</span><span class="ss">'digits</span><span class="o">)</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>Note that an inline method cannot directly fill in for an abstract method, since it produces
no code that can be executed at runtime. That is why we define an intermediary class
<code class="language-plaintext highlighter-rouge">FromDigits</code> that contains a fallback implementation which is then overridden by the inline
method in the <code class="language-plaintext highlighter-rouge">FromDigits</code> given instance. That method is defined in terms of a macro
implementation method <code class="language-plaintext highlighter-rouge">fromDigitsImpl</code>. Here is its definition:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">private</span> <span class="k">def</span> <span class="nf">fromDigitsImpl</span><span class="o">(</span><span class="n">digits</span><span class="k">:</span> <span class="kt">Expr</span><span class="o">[</span><span class="kt">String</span><span class="o">])(</span><span class="n">using</span> <span class="n">ctx</span><span class="k">:</span> <span class="kt">Quotes</span><span class="o">)</span><span class="k">:</span> <span class="kt">Expr</span><span class="o">[</span><span class="kt">BigFloat</span><span class="o">]</span> <span class="k">=</span>
    <span class="nv">digits</span><span class="o">.</span><span class="py">value</span> <span class="k">match</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">ds</span><span class="o">)</span> <span class="k">=&gt;</span>
        <span class="k">try</span>
          <span class="k">val</span> <span class="nv">BigFloat</span><span class="o">(</span><span class="n">m</span><span class="o">,</span> <span class="n">e</span><span class="o">)</span> <span class="k">=</span> <span class="nf">apply</span><span class="o">(</span><span class="n">ds</span><span class="o">)</span>
          <span class="o">'{</span><span class="nc">BigFloat</span><span class="o">(</span><span class="n">$</span><span class="o">{</span><span class="nc">Expr</span><span class="o">(</span><span class="n">m</span><span class="o">)},</span> <span class="n">$</span><span class="o">{</span><span class="nc">Expr</span><span class="o">(</span><span class="n">e</span><span class="o">)})}</span>
        <span class="k">catch</span> <span class="k">case</span> <span class="n">ex</span><span class="k">:</span> <span class="kt">FromDigits.FromDigitsException</span> <span class="o">=&gt;</span>
          <span class="nv">ctx</span><span class="o">.</span><span class="py">error</span><span class="o">(</span><span class="nv">ex</span><span class="o">.</span><span class="py">getMessage</span><span class="o">)</span>
          <span class="o">'{</span><span class="nc">BigFloat</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">)}</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span>
        <span class="o">'{</span><span class="nf">apply</span><span class="o">(</span><span class="nc">$digits</span><span class="o">)}</span>
<span class="n">end</span> <span class="nc">BigFloat</span>
</code></pre></div></div>

<p>The macro implementation takes an argument of type <code class="language-plaintext highlighter-rouge">Expr[String]</code> and yields
a result of type <code class="language-plaintext highlighter-rouge">Expr[BigFloat]</code>. It tests whether its argument is a constant
string. If that is the case, it converts the string using the <code class="language-plaintext highlighter-rouge">apply</code> method
and lifts the resulting <code class="language-plaintext highlighter-rouge">BigFloat</code> back to <code class="language-plaintext highlighter-rouge">Expr</code> level. For non-constant
strings <code class="language-plaintext highlighter-rouge">fromDigitsImpl(digits)</code> is simply <code class="language-plaintext highlighter-rouge">apply(digits)</code>, i.e. everything is
evaluated at runtime in this case.</p>

<p>The interesting part is the <code class="language-plaintext highlighter-rouge">catch</code> part of the case where <code class="language-plaintext highlighter-rouge">digits</code> is constant.
If the <code class="language-plaintext highlighter-rouge">apply</code> method throws a <code class="language-plaintext highlighter-rouge">FromDigitsException</code>, the exception’s message is issued as a compile time error in the <code class="language-plaintext highlighter-rouge">ctx.error(ex.getMessage)</code> call.</p>

<p>With this new implementation, a definition like</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">x</span><span class="k">:</span> <span class="kt">BigFloat</span> <span class="o">=</span> <span class="mf">1234.45e3333333333</span>
</code></pre></div></div>

<p>would give a compile time error message:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">3</span> <span class="o">|</span>  <span class="k">val</span> <span class="nv">x</span><span class="k">:</span> <span class="kt">BigFloat</span> <span class="o">=</span> <span class="mf">1234.45e3333333333</span>
  <span class="o">|</span>                    <span class="o">^^^^^^^^^^^^^^^^^^</span>
  <span class="o">|</span>                    <span class="n">exponent</span> <span class="n">too</span> <span class="n">large</span><span class="k">:</span> <span class="err">3333333333</span>
</code></pre></div></div>

				</div>

				<div class="two-columns">
					
					<a href="/scala3/reference/changed-features.html">&larr; <strong>previous</strong></a>
					
					
					<a href="/scala3/reference/changed-features/structural-types.html"><strong>next</strong> &rarr;</a>
					
				</div>

				<div class="content-contributors">
    <h3>Contributors to this page:</h3>
    <div id="contributors" class="contributors-container"></div>
</div>

			</div>
		</div>

		<!-- TOC -->
		<div class="content-nav">
	<div class="inner-box sidebar-toc-wrapper" style="">
		<h5 class="contents">Contents</h5>
        
        
          <div class="inner-toc book" id="sidebar-toc">
        

      <ul>
        
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/overview.html">Overview</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/new-types.html">New Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/new-types/intersection-types.html">Intersection Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/new-types/union-types.html">Union Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/new-types/type-lambdas.html">Type Lambdas</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/new-types/match-types.html">Match Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/new-types/dependent-function-types.html">Dependent Function Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/new-types/polymorphic-function-types.html">Polymorphic Function Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/enums.html">Enums</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/enums/enums.html">Enumerations</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/enums/adts.html">Algebraic Data Types</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/enums/desugarEnums.html">Translation of Enums and ADTs</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/contextual.html">Contextual Abstractions</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/givens.html">Given Instances</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/using-clauses.html">Using Clauses</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/context-bounds.html">Context Bounds</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/given-imports.html">Importing Givens</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/extension-methods.html">Extension Methods</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/type-classes.html">Implementing Type classes</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/derivation.html">Type Class Derivation</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/multiversal-equality.html">Multiversal Equality</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/context-functions.html">Context Functions</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/conversions.html">Implicit Conversions</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/by-name-context-parameters.html">By-Name Context Parameters</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/contextual/relationship-implicits.html">Relationship with Scala 2 Implicits</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/metaprogramming.html">Metaprogramming</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/metaprogramming/inline.html">Inline</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/metaprogramming/compiletime-ops.html">Compile-time operations</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/metaprogramming/macros.html">Macros</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/metaprogramming/staging.html">Runtime Multi-Stage Programming</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/metaprogramming/reflection.html">Reflection</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/metaprogramming/tasty-inspect.html">TASTy Inspection</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/other-new-features.html">Other New Features</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/trait-parameters.html">Trait Parameters</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/transparent-traits.html">Transparent Traits</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/creator-applications.html">Universal Apply Methods</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/export.html">Export Clauses</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/opaques.html">Opaque Type Aliases</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/open-classes.html">Open Classes</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/parameter-untupling.html">Parameter Untupling</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/kind-polymorphism.html">Kind Polymorphism</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/matchable.html">The Matchable Trait</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/threadUnsafe-annotation.html">The @threadUnsafe annotation</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/targetName.html">The @targetName annotation</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/control-syntax.html">New Control Syntax</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/indentation.html">Optional Braces</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/explicit-nulls.html">Explicit Nulls</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/safe-initialization.html">Safe Initialization</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/other-new-features/type-test.html">TypeTest</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/changed-features.html">Other Changed Features</a></li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a class="active" href="/scala3/reference/changed-features/numeric-literals.html">Numeric Literals</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/structural-types.html">Programmatic Structural Types</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/operators.html">Rules for Operators</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/wildcards.html">Wildcard Arguments in Types</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/imports.html">Imports</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/type-checking.html">Changes in Type Checking</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/type-inference.html">Changes in Type Inference</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/implicit-resolution.html">Changes in Implicit Resolution</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/implicit-conversions.html">Implicit Conversions</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/overload-resolution.html">Changes in Overload Resolution</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/match-syntax.html">Match Expressions</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/vararg-splices.html">Vararg Splices</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/pattern-bindings.html">Pattern Bindings</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/pattern-matching.html">Option-less pattern matching</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/eta-expansion.html">Automatic Eta Expansion</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/compiler-plugins.html">Changes in Compiler Plugins</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/lazy-vals-init.html">Lazy Vals Initialization</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/changed-features/main-functions.html">Main Methods</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/dropped-features.html">Dropped Features</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/delayed-init.html">Dropped: Delayedinit</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/macros.html">Dropped: Scala 2 Macros</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/existential-types.html">Dropped: Existential Types</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/type-projection.html">Dropped: General Type Projection</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/do-while.html">Dropped: Do-While</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/procedure-syntax.html">Dropped: Procedure Syntax</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/package-objects.html">Dropped: Package Objects</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/early-initializers.html">Dropped: Early Initializers</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/class-shadowing.html">Dropped: Class Shadowing</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/limit22.html">Dropped: Limit 22</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/xml.html">Dropped: XML Literals</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/symlits.html">Dropped: Symbol Literals</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/auto-apply.html">Dropped: Auto-Application</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/weak-conformance.html">Dropped: Weak Conformance</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/this-qualifier.html">Dropped: private[this] and protected[this]</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-section"><a  href="/scala3/reference/dropped-features/wildcard-init.html">Dropped: Wildcard Initializer</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/syntax.html">Scala 3 Syntax Summary</a>
						<div id="toc"></div>
						</li>
              
            
          
        
					

          
             <!-- this must be English, so get the other documents' titles -->

               <!-- if a type is set in a document, we add it as a class. Used in Scala book to diff between chapter and section -->
                <li class="type-chapter"><a  href="/scala3/reference/language-versions.html">Language Versions</a>
						<div id="toc"></div>
						</li>
              
            
          
        
      </ul>

      
		</div>
		<hr>
		<div class="help-us"><a href="https://github.com/scala/docs.scala-lang/blob/main/_scala3-reference/changed-features/numeric-literals.md"><i class="fa fa-pencil" aria-hidden="true"></i> Problem with this page?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please help us fix it!</a></div>
	</div>
</div>

	</div>
</section>


</main>

<footer id="site-footer">
    <div class="wrap">
      <div class="site-footer-top">
        
          <ul class="documentation">
            <li><h3>Documentation</h3></li>
            
              <li><a href="/getting-started.html">Getting Started</a></li>
            
              <li><a href="https://www.scala-lang.org/api/current/index.html">API</a></li>
            
              <li><a href="/overviews">Overviews/Guides</a></li>
            
              <li><a href="http://scala-lang.org/files/archive/spec/2.13/">Language Specification</a></li>
            
          </ul>
        
          <ul class="download">
            <li><h3>Download</h3></li>
            
              <li><a href="http://scala-lang.org/download/">Current Version</a></li>
            
              <li><a href="http://scala-lang.org/download/all.html">All versions</a></li>
            
          </ul>
        
          <ul class="community">
            <li><h3>Community</h3></li>
            
              <li><a href="http://scala-lang.org/community/">Community</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#mailing-lists">Mailing Lists</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#chat-rooms">Chat Rooms & More</a></li>
            
              <li><a href="http://scala-lang.org/community/index.html#community-libraries-and-tools">Libraries and Tools</a></li>
            
              <li><a href="http://scala.epfl.ch/">The Scala Center</a></li>
            
          </ul>
        
          <ul class="contribute">
            <li><h3>Contribute</h3></li>
            
              <li><a href="http://scala-lang.org/contribute/">How to help</a></li>
            
              <li><a href="http://scala-lang.org/contribute/bug-reporting-guide.html">Report an Issue</a></li>
            
          </ul>
        
          <ul class="scala">
            <li><h3>Scala</h3></li>
            
              <li><a href="http://scala-lang.org/blog/">Blog</a></li>
            
              <li><a href="http://scala-lang.org/conduct/">Code of Conduct</a></li>
            
              <li><a href="http://scala-lang.org/license/">License</a></li>
            
          </ul>
        
          <ul class="social">
            <li><h3>Social</h3></li>
            
              <li><a href="https://github.com/scala/scala">GitHub</a></li>
            
              <li><a href="https://twitter.com/scala_lang">Twitter</a></li>
            
          </ul>
        
      </div>
      <div class="site-footer-bottom">
        <p></p>
        <img src="resources/img/frontpage/scala-logo-white.png" alt="">
      </div>
    </div>
    <a class="back-to-top in" href="#" id="scroll-to-top-btn">
      <i class="fa fa-angle-up"></i>
    </a>
</footer>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script>(window.jQuery) || document.write('<script src="scripts/jquery-3.1.1.min.js"><\/script>');</script>
<script src="resources/js/vendor/jquery.autocomplete.js" type="text/javascript"></script>



<script src="scripts/searchbar.js" type="text/javascript"></script>
<link rel="stylesheet" href="scripts/my.css" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">

<!-- moment js -->
<script src="resources/js/vendor/moment.min.js" type="text/javascript"></script>

<!-- tweet feed -->
<script src="resources/js/tweetMachine-update.js" type="text/javascript"></script>

<!-- prettify js -->
<script src="resources/js/vendor/prettify/prettify.js" type="text/javascript"></script>
<script src="resources/js/vendor/prettify/lang-scala.js" type="text/javascript"></script>

<!-- unslider js -->
<script src="resources/js/vendor/unslider.js" type="text/javascript"></script>

<!-- Highlight -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/scala.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/languages/java.min.js" type="text/javascript"></script>

<!-- CodeMirror -->
<script src="resources/js/vendor/codemirror/codemirror.js" type="text/javascript"></script>
<script src="resources/js/vendor/codemirror/clike.js" type="text/javascript"></script>

<!-- TOC -->
<script src="resources/js/vendor/toc.js" type="text/javascript"></script>

<!-- Blog search -->
<script src="resources/js/vendor/jekyll.search.min.js" type="text/javascript"></script>

<!-- Custom JavaScript -->
<script src="resources/js/functions.js" type="text/javascript"></script>



<!-- Alogolia search for doc -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
if ($("#doc-search-bar").length) {
  docsearch({
    apiKey: 'fbc439670f5d4e3730cdcb715c359391',
    indexName: 'scala-lang',
    inputSelector: '#doc-search-bar',
    algoliaOptions: { 'facetFilters': ["language:en"] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
}
</script>
</body>

</html>

